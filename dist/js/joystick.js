(()=>{"use strict";var t,e={765:(t,e,n)=>{const o={joyLUp:["W","T","058","195"],joyLLeft:["A","F","063","196"],joyLDown:["S","G","096","197"],joyLRight:["D","H","097","198"],joyRUp:["5","9","098","199"],joyRLeft:["6","0","099","200"],joyRDown:["7","[","100","201"],joyRRight:["8","]","101","202"],padUp:["UP","Z","102","203","XUSB_GAMEPAD_DPAD_UP"],padLeft:["LEFT","X","103","204","XUSB_GAMEPAD_DPAD_LEFT"],padDown:["DOWN","C","104","205","XUSB_GAMEPAD_DPAD_DOWN"],padRight:["RIGHT","V","105","206","XUSB_GAMEPAD_DPAD_RIGHT"],actUp:["I","B","106","207","XUSB_GAMEPAD_Y"],actLeft:["J","N","107","208","XUSB_GAMEPAD_X"],actDown:["K","M","108","209","XUSB_GAMEPAD_A"],actRight:["L","Ç","109","210","XUSB_GAMEPAD_B"],left1:["Q","Y","110","211","XUSB_GAMEPAD_LEFT_SHOULDER"],left2:["1","3","111","212","XUSB_GAMEPAD_LEFT_TRIGGER"],left3:[";","´","187","213","XUSB_GAMEPAD_LEFT_THUMB"],right1:["E","U","188","214","XUSB_GAMEPAD_RIGHT_SHOULDER"],right2:["2","4","189","215","XUSB_GAMEPAD_RIGHT_TRIGGER"],right3:[".","~","190","216","XUSB_GAMEPAD_RIGHT_THUMB"],select:["ENTER","P","193","217","XUSB_GAMEPAD_BACK"],start:["SPACE","O","231","218","XUSB_GAMEPAD_START"],pause:["ESC","ESC","ESC","ESC","ESC"],load:["F1","F1","F1","F1","F1"],save:["[","[","[","[","["],fast:["TAB","TAB","TAB","TAB","TAB"],volUp:["MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP"],volDown:["MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN"]};var i=n(860),r=n.n(i)().namespace("joystick");function a(t,e){var n=r(t);return null===n?e:n}window.ls=r,window.getOpt=a;var s={ip:a("code","localhost:5000"),layout:a("layout"),player:a("player",1)-1,password:a("password"),debug:a("debug",!1),locked:a("locked",[]),hidden:a("hidden",[]),invertL:a("invertL",!1),invertR:a("invertR",!1),disJoyXAxis:a("disJoyXAxis",!1),disJoyYAxis:a("disJoyYAxis",!1),dblClickLoadSave:a("dblClickLoadSave",!1),changeKeyOnDrag:a("changeKeyOnDrag",!0),vibrate:a("vibrate",15),vibrateJoystick:a("vibrateJoystick",5),vibrationFromGame:a("vibrationFromGame",!0),vgamepad:a("vgamepad",!1),bgImage:a("bgImage",""),bgOpacity:a("bgOpacity",.5),bgBlur:a("bgBlur",0),colorsBackground:a("background","rgba(0, 0, 0, 1)"),colorsColor:a("color","rgba(255, 255, 255, 0.53)"),colorsBorder:a("border","rgba(255, 255, 255, 0.53)"),colorsActive:a("active","rgba(255, 255, 255, 0.2)"),customCSS:a("customCSS",""),customJS:a("customJS",""),driveSensitivity:a("driveSensitivity",2),drivePrecision:a("drivePrecision",1)};window.options=s;const c=s;var d=n(45),l=function(){function t(t){this.element=t,this.content=t.querySelector(".toast-content"),this.toasts=[],this.showing=!1}return t.prototype.show=function(t,e,n){return void 0===e&&(e=2e3),void 0===n&&(n=!1),this.toasts.push({message:t,time:e,html:n}),this.showing||this.start(),this},t.prototype.start=function(){if(this.element.classList.remove("show"),!this.toasts.length)return this.showing=!1;this.showing?setTimeout(this.run.bind(this),1e3):this.run(),this.showing=!0},t.prototype.run=function(){this.element.classList.add("show");var t=this.toasts.shift();this.content[t.html?"innerHTML":"innerText"]=t.message,setTimeout(this.start.bind(this),t.time||2e3)},t}(),u=document.createElement("div");u.classList.add("toast"),u.innerHTML='<div class="toast-content"></div>',document.body.appendChild(u);var h=document.createElement("style");h.innerHTML="\n@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap');\n\n.toast {\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\tbackground-color: rgba(85, 85, 85, 0.9);\n\tborder-radius: 22px;\n\tbottom: 48px; \n\t-webkit-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tcolor: #FFFFFF;\n\tdisplay: -webkit-inline-box;\n\tdisplay: -ms-inline-flexbox;\n\tdisplay: inline-flex;\n\tfont-family: 'Roboto Condensed', Roboto, Arial, sans-serif;\n\tfont-size: 15.8px;\n\tleft: 50%;\n\tline-height: 17.6px;\n\tmargin: 16px;\n\tmax-width: 320px;\n\tmin-height: 44px;\n\topacity: 0;\n\tpadding: 13.8px 25px;\n\tpointer-events: none;\n\tposition: fixed;\n\ttext-align: left;\n\ttext-shadow: black 0 0 2px;\n\t-webkit-transform: translateX(calc(-50% - 16px));\n\t-ms-transform: translateX(calc(-50% - 16px));\n\ttransform: translateX(calc(-50% - 16px));\n\t-webkit-transition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\t-o-transition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\ttransition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\twidth: -webkit-fit-content;\n\twidth: -moz-fit-content;\n\twidth: fit-content;\n\tz-index: 99999999999;\n}\n\n.toast.show {\n\topacity: 1;\n\t-webkit-transition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n\t-o-transition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n\ttransition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n}\n\n/*.toast .toast-content {\n\tletter-spacing: -0.03px;\n\tline-height: 17.6px;\n\t-webkit-transform: scaleY(1.11);\n\t-ms-transform: scaleY(1.11);\n\ttransform: scaleY(1.11);\n}*/\n",document.body.appendChild(h);var v=new l(u),p=function(t,e,n){return void 0===e&&(e=2e3),void 0===n&&(n=!1),v.show(t,e,n)};window.toast=p;var m,y=document.querySelector(".ping"),f=!1,g=Date.now(),b={INFO:function(t){p(t)},AUTH_FAILED:function(){if(!f){document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected");var t=prompt("O computador requer uma senha para se conectar ao MobyStk");null!==t&&(localStorage.setItem("joystick.password",t),f=!0,(0,d.Z)(),window.location.reload())}},pong:function(t){Number(t)===m&&(y&&(y.innerText=String(Date.now()-g)+"ms"),m=void 0)}},w=L();function L(){var t;try{t=new WebSocket("ws://"+c.ip)}catch(t){return console.error(t),void e()}function e(){document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected"),setTimeout((function(){return w=L()}),3e3)}return t.addEventListener("open",(function(){document.body.classList.remove("connecting","disconnected"),document.body.classList.add("connected"),t.send("PASSWORD "+(c.password||""))})),t.addEventListener("close",e),t.addEventListener("message",(function(t){var e=t.data.split(" "),n=e[0],o=e.slice(1),i=b[n];"function"==typeof i&&i(o.join(" "))})),document.body.classList.remove("connected","disconnected"),document.body.classList.add("connecting"),t}window.socket=w,window.socketConnect=L,setInterval((function(){m&&y&&(y.innerText="+999ms"),m=Math.floor(1e6*Math.random()),g=Date.now(),w.send("ping ".concat(m))}),1e3);var x=Date.now();function E(t,e){var n;return void 0===e&&(e=!1),n=Array.isArray(t)?t.reduce((function(t,e){return t+Number(e)}),0):Number(t),e?(x=Date.now()+n,navigator.vibrate(t)):Date.now()+n>x&&navigator.vibrate(t)}var A=n(775),k=n(794),_=n(573),S=n(795),j={buttons:A.Z,groups:k.Z,joysticks:_.Z,layouts:S.Z,currentLayout:null,currentTouches:[],elements:{all:[],buttons:[],groups:[],joysticks:[]}};window.Controller=j;const M=j;var O=!1,T=!1,D=[];function P(){var t;(null===(t=window.layoutEditor)||void 0===t?void 0:t.opened)||(Q("load"),Q("load",!0),E(3*c.vibrate))}function X(){var t;(null===(t=window.layoutEditor)||void 0===t?void 0:t.opened)||(Q("save"),Q("save",!0),E(3*c.vibrate))}function C(){var t;(null===(t=window.layoutEditor)||void 0===t?void 0:t.opened)||T||(this.instance&&this.instance[this.instance.active?"release":"press"](),O||(D=[]),O=!O)}function B(){var t,e,n,o,i;return e=this,n=void 0,i=function(){var e,n,o;return function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(i){switch(i.label){case 0:if(null===(t=window.layoutEditor)||void 0===t?void 0:t.opened)return[2];if(O)return[2];T=!T,this.instance&&this.instance.press(),e=0,n=D,i.label=1;case 1:return e<n.length?(o=n[e],T?1!==w.readyState?[3,4]:(w.send(o),[4,new Promise((function(t){return setTimeout(t,50)}))]):[3,4]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return this.instance&&this.instance.release(),T=!1,[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}))}function z(){document.documentElement.requestFullscreen()}window.playingMacro=T,window.recordingMacro=O,window.lastMacro=D,window.loadState=P,window.saveState=X,window.recordMacro=C,window.playMacro=B,window.fullScreen=z;var U=document.documentElement,$=document.querySelector(".edit"),Y=document.querySelector(".backgroundImage"),I=document.querySelector(".deviceInfo"),R=I.querySelector(".battery"),H=R.querySelector(".battery-icon"),J=R.querySelector(".battery-level"),G=I.querySelector(".clock"),q=I.querySelector(".player .player-number"),F=I.querySelector(".layout"),N=(I.querySelector(".status"),document.querySelector(".ping")),W=document.querySelector(".controller-indicator"),V=document.querySelector(".controller-layout"),Z=document.querySelector('meta[name="viewport"]'),K=c.vgamepad?"mdi-google-controller":"mdi-keyboard";function Q(t,e,n){if(void 0===e&&(e=!1),t&&t.length)return"string"==typeof t&&(t=[t]),n||(t=t.map((function(t){var e,n;return c.vgamepad?null===(e=o[t])||void 0===e?void 0:e[4]:null===(n=o[t])||void 0===n?void 0:n[c.player]}))),O&&n?D.push("".concat(n," ").concat(t," ").concat(c.player)):O?D.push("".concat(e?"R":"P"," ").concat(t," ").concat(c.player)):void(w&&1===w.readyState&&(n?w.send("".concat(n," ").concat(t," ").concat(c.player)):w.send("".concat(e?"R":"P"," ").concat(t," ").concat(c.player))))}W.classList.add(K),b.V=function(t){var e=t.toLowerCase().split(" ")[0];if(c.vibrationFromGame){var n=parseInt(e.split("|")[0]);E(n?3e3:0,!0),W.classList[n?"remove":"add"](K),W.classList[n?"add":"remove"]("mdi-vibrate")}},window.sendCmd=Q;var tt,et=function(){function t(){this.events={}}return t.prototype.on=function(t,e){for(var n=this,o=0,i=t.split(" ");o<i.length;o++){var r=i[o];"object"!=typeof this.events[r]&&(this.events[r]=[]),this.events[r].push(e)}return function(){for(var o=0,i=t.split(" ");o<i.length;o++){var r=i[o];n.off(r,e)}}},t.prototype.off=function(t,e){for(var n=0,o=t.split(" ");n<o.length;n++){var i=o[n];if("object"==typeof this.events[i]){var r=this.events[i].indexOf(e);r>-1&&this.events[i].splice(r,1)}}},t.prototype.emit=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var i=0,r=t.split(" ");i<r.length;i++){var a=r[i];"object"==typeof this.events[a]&&this.events[a].forEach((function(t){return t.apply(e,n)}))}},t.prototype.once=function(t,e){for(var n=this,o=function(t){var o=i.on(t,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o(),e.apply(n,t)}))},i=this,r=0,a=t.split(" ");r<a.length;r++)o(a[r])},t}(),nt=(tt=function(t,e){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},tt(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const ot=function(t){function e(e){var n=t.call(this)||this;return n.type="mobystk:unknown",n.id=e.id||"mobystk:unknown",n.name=e.name||"(Sem nome)",n.x=e.x||[0,"px"],n.y=e.y||[0,"px"],n.anchorX=e.anchorX||0,n.anchorY=e.anchorY||0,n.width=e.width||[100,"px"],n.height=e.height||[100,"px"],n}return nt(e,t),e.prototype.render=function(){var t=this.element;t.style.left=null,t.style.right=null,t.style.top=null,t.style.bottom=null,t.style.transform=null,t.style.width=this.width.join(""),t.style.height=this.height.join(""),0===this.anchorX&&(t.style.left=this.x.join("")),1===this.anchorX&&(t.style.right=this.x.join("")),0===this.anchorY&&(t.style.top=this.y.join("")),1===this.anchorY&&(t.style.bottom=this.y.join("")),t.classList[2===this.anchorX?"add":"remove"]("center-x"),t.classList[2===this.anchorY?"add":"remove"]("center-y"),t.classList[this.editing?"add":"remove"]("controller-editing")},e.prototype.toObject=function(){return{type:this.type,id:this.id,name:this.name,x:this.x,y:this.y,anchorX:this.anchorX,anchorY:this.anchorY,width:this.width,height:this.height}},e}(et);var it=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rt=function(){return rt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},rt.apply(this,arguments)},at=function(t){function e(e){var n=t.call(this,e)||this;n.type="mobystk:button",n.content=e.content||{type:"mobystk:text",value:""},n.key=e.key||"",n.customAction=e.customAction||!1,n.lockable=e.lockable||!1,n.diagonal=e.diagonal||!1,n.diagonal&&(n.targets=e.targets||[]),n.scalable=e.scalable||!1,n.border=e.border||[!0,!0,!0,!0],n.radius=e.radius||[[0,"px"],[0,"px"],[0,"px"],[0,"px"]],n.fontSize=e.fontSize||[20,"px"],n.active=!1,n.editing=!1;var o=document.createElement("button");return o.classList.add("controller-button"),o.dataset.id=n.id,o.instance=n,n.element=o,n}return it(e,t),e.prototype.press=function(t){var e=this;if(void 0===t&&(t=!1),this.diagonal)for(var n=0,o=M.elements.buttons.filter((function(t){return e.targets.includes(t.id)&&!t.lockable}));n<o.length;n++)o[n].press(!0);else this.active||this.customAction||this.emit("press",this.key),!this.scalable||this.active||t?!this.active&&t&&(this.element.classList.add("controller-button-active-diagonal"),this.element.classList.add("controller-button-scale-diagonal")):this.element.classList.add("controller-button-scale"),this.active=!0,this.element.classList.add("controller-button-active")},e.prototype.release=function(){var t=this;if(this.diagonal)for(var e=0,n=M.elements.buttons.filter((function(e){return t.targets.includes(e.id)}));e<n.length;e++)n[e].release();else this.active&&!this.customAction&&this.emit("release",this.key),this.active=!1,this.element.classList.remove("controller-button-active"),this.element.classList.remove("controller-button-scale"),this.element.classList.remove("controller-button-active-diagonal"),this.element.classList.remove("controller-button-scale-diagonal")},e.prototype.render=function(){t.prototype.render.call(this);var e=this.element;this.border[0]||(e.style.borderTop="0"),this.border[1]||(e.style.borderRight="0"),this.border[2]||(e.style.borderBottom="0"),this.border[3]||(e.style.borderLeft="0");var n=this.radius.map((function(t){return t.join("")})).join(" ");if(e.style.borderRadius=n,e.style.fontSize=this.fontSize.join(""),e.classList[this.diagonal?"add":"remove"]("controller-button-diagonal"),e.classList[this.lockable?"add":"remove"]("controller-button-lockable"),e.innerHTML="","mobystk:text"===this.content.type)e.innerText=this.content.value;else if("mobystk:icon"===this.content.type){var o=document.createElement("i");o.classList.add("mdi","mdi-"+this.content.value),e.appendChild(o)}this._html&&(e.innerHTML=this._html),e.classList[this.customAction?"add":"remove"]("controller-custom-action"),e.dataset.action=this.customAction||null},e.prototype.toObject=function(){return rt(rt({},t.prototype.toObject.call(this)),{type:this.type,key:this.key,border:this.border,fontSize:this.fontSize,content:this.content,radius:this.radius,lockable:this.lockable,scalable:this.scalable,customAction:this.customAction,diagonal:this.diagonal,targets:this.targets})},e}(ot);const st=at;var ct=n(694),dt=n.n(ct),lt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ut=function(){return ut=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ut.apply(this,arguments)};const ht=function(t){function e(e){var n=t.call(this,e)||this;n.type="mobystk:joystick",n.size=e.size||[90,"px"],n.padding=e.padding||60,n.keys=e.keys||["joyLUp","joyLLeft","joyLDown","joyLRight"],n.position={up:!1,down:!1,left:!1,right:!1};var o=document.createElement("div");return o.classList.add("controller-joystick"),o.dataset.id=n.id,o.instance=n,n.element=o,n}return lt(e,t),e.prototype.render=function(){var e=this;this.width=[this.size[0]+this.padding,this.size[1]],this.height=[this.size[0]+this.padding,this.size[1]],t.prototype.render.call(this);var n=this.element;this.position={up:!1,down:!1,left:!1,right:!1},this.nipple&&this.nipple.destroy(),this.nipple=dt().create({zone:n,size:this.size[0],mode:"static",position:{left:"50%",top:"50%"},lockX:c.disJoyYAxis,lockY:c.disJoyXAxis}),this.nipple.on("move",(function(t,n){return e.emit("move",e,t,n)})),this.nipple.on("end",(function(t,n){return e.emit("end",e,t,n)}))},e.prototype.toObject=function(){return ut(ut({},t.prototype.toObject.call(this)),{type:this.type,size:this.size,padding:this.padding,keys:this.keys})},e}(ot);function vt(t){var e,n;if(!(null===(e=window.layoutEditor)||void 0===e?void 0:e.opened))for(var o=function(t){var e=M.currentTouches.findIndex((function(e){return e.touch.identifier===t.identifier}));if(e<0)return"continue";(null===(n=M.currentTouches[e].target)||void 0===n?void 0:n.instance)instanceof st&&M.currentTouches[e].target.instance.release(),M.currentTouches.splice(e,1)},i=0,r=Array.from(t.changedTouches);i<r.length;i++)o(r[i])}document.addEventListener("touchstart",(function(t){var e;if(!(null===(e=window.layoutEditor)||void 0===e?void 0:e.opened))for(var n=0,o=Array.from(t.changedTouches);n<o.length;n++){for(var i=o[n],r=document.elementFromPoint(i.clientX,i.clientY);null!==r&&!(r.instance instanceof st&&!r.instance.customAction||r.instance instanceof ht);)r=r.parentElement;if(null==r?void 0:r.instance.lockable)E(c.vibrate),r.instance.active?r.instance.release():r.instance.press();else{var a=(null==r?void 0:r.instance)instanceof ht;M.currentTouches.push({target:r,touch:i,joystick:a}),r&&(E(c.vibrate),a||r.instance.press())}}})),document.addEventListener("touchmove",(function(t){var e,n,o;if(!(null===(e=window.layoutEditor)||void 0===e?void 0:e.opened))for(var i=function(t){var e=M.currentTouches.findIndex((function(e){return e.touch.identifier===t.identifier}));if(e<0)return"continue";var i=M.currentTouches[e];if(i.joystick)return"continue";if(!c.changeKeyOnDrag&&i.target)return"continue";i.touch=t;for(var r=document.elementFromPoint(t.clientX,t.clientY);null!==r&&(!(r.instance instanceof st)||r.instance.customAction||r.instance.lockable);)r=r.parentElement;return i.target===r?"continue":(null===(n=i.target)||void 0===n||n.instance.release(),r&&!(null===(o=r.instance)||void 0===o?void 0:o.active)||(r=null),i.target=r,r?(r.instance.press(),void E(c.vibrate)):"continue")},r=0,a=Array.from(t.changedTouches);r<a.length;r++){i(a[r])}})),document.addEventListener("touchend",vt),document.addEventListener("touchcancel",vt);var pt=["mobystk:joystick_left","mobystk:joystick_right"];function mt(t,e,n){var o,i;if(E(c.vibrateJoystick*(null==n?void 0:n.distance)/45),c.vgamepad&&pt.includes(t.id)){var r=Math.round(65534/90*(45+(null==n?void 0:n.distance)*Math.cos(null===(o=null==n?void 0:n.angle)||void 0===o?void 0:o.radian))-32768),a=Math.round(65534/90*(45+(null==n?void 0:n.distance)*Math.sin(null===(i=null==n?void 0:n.angle)||void 0===i?void 0:i.radian))-32768);(isNaN(r)||isNaN(a))&&(r=a=0),"mobystk:joystick_left"===t.id&&Q("".concat(r,"|").concat(a),!1,"VJL"),"mobystk:joystick_right"===t.id&&Q("".concat(r,"|").concat(a),!1,"VJR")}if(!(null==n?void 0:n.direction))return s("up",!1),s("left",!1),s("down",!1),void s("right",!1);function s(e,n){var o=function(t,e){var n={up:[t[0],"Top"],left:[t[1],"Left"],down:[t[2],"Bottom"],right:[t[3],"Right"]}[e];return{key:n[0],border:n[1]}}(t.keys,e),i=o.key,r=o.border;if(t.element.querySelector(".back").style["border".concat(r,"Width")]=n?"7px":"",!c.vgamepad||!pt.includes(t.id)){if(t.position[e]===n)return;Q([i],!n)}t.position[e]=n}c.disJoyYAxis||s("up",(null==n?void 0:n.angle.degree)>22.5&&(null==n?void 0:n.angle.degree)<157.5),c.disJoyXAxis||s("left",(null==n?void 0:n.angle.degree)>112.5&&(null==n?void 0:n.angle.degree)<247.5),c.disJoyYAxis||s("down",(null==n?void 0:n.angle.degree)>202.5&&(null==n?void 0:n.angle.degree)<337.5),c.disJoyXAxis||s("right",(null==n?void 0:n.angle.degree)>292.5||(null==n?void 0:n.angle.degree)<67.5)}function yt(){var t;t=window.outerHeight>window.outerWidth/1.7777777777777777?640:window.outerWidth/window.outerHeight*360,Z.setAttribute("content","width=".concat(t,", user-scalable=0")),M.currentTouches=M.currentTouches.filter((function(t){return!t.joystick})),M.elements.joysticks.forEach((function(t){return t.render()}))}window.addEventListener("load",yt),window.addEventListener("resize",yt);var ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gt=function(){return gt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gt.apply(this,arguments)},bt=function(t){function e(e){var n=t.call(this,e)||this;n.type="mobystk:group",n.content=e.content||[],n.parsedContent=e.parsedContent||[];var o=document.createElement("div");o.classList.add("controller-group"),o.dataset.id=n.id,o.instance=n,n.element=o;for(var i=0,r=n.parsedContent;i<r.length;i++){var a=r[i];o.appendChild(a.element),a.render()}return n}return ft(e,t),e.prototype.toObject=function(){return gt(gt({},t.prototype.toObject.call(this)),{type:this.type,content:this.content})},e}(ot);const wt=bt;function Lt(){var t=M.elements.buttons.find((function(t){return"drive"===t.customAction})),e=t?t._html='\n\t<svg viewBox="0 0 32 32">\n\t\t<path d="M16 0a16 16 0 100 32 16 16 0 000-32zm0 4a12 12 0 0111.3 8H4.7c1.7-4.6 6-8 11.3-8zm0 14a2 2 0 110-4 2 2 0 010 4zM4 16c5.5 0 9.9 5.3 10 11.8A12 12 0 014 16zm14 11.8c.1-6.5 4.5-11.8 10-11.8a12 12 0 01-10 11.8z"></path>\n\t</svg>':"";null==t||t.render(),t&&t.element.addEventListener("touchstart",(function(){var n;(null===(n=window.layoutEditor)||void 0===n?void 0:n.opened)||(t.active?(t.release(),t.element.innerHTML=e,window.ondevicemotion=null,c.vgamepad?Q("0|0",!1,"VJL"):(Q("joyLUp",!0),Q("joyLLeft",!0),Q("joyLRight",!0))):function(){t.press(),t.element.innerHTML='<i class="driveArrow mdi mdi-arrow-up"></i>';var e=0,n=0,o=[];window.ondevicemotion=function(i){var r=window.outerWidth>window.outerHeight,a=i.accelerationIncludingGravity[r?"x":"y"]>=0?1:-1;e=parseFloat(i.accelerationIncludingGravity[r?"y":"x"].toFixed(1)),e*=a*(r?1:-1);var s=t.element.children[0];if(c.vgamepad){var d=Math.round(32767/c.driveSensitivity*e);d<10923*c.drivePrecision&&d>-10923*c.drivePrecision&&(d=0),d>32767&&(d=32767),d<-32767&&(d=-32767),l=90*d/32767,s.style.transform="rotate(".concat(l,"deg)"),Q("".concat(d,"|0"),!1,"VJL")}else{var l=function(t,e,n,o){var i=0;return-45===t?(e>n&&(i=45),e<-n+o&&(i=-45),e>2*n&&(i*=2),e<2*-n-o&&(i*=2)):45===t?(e>n-o&&(i=45),e<-n&&(i=-45),e>2*n+o&&(i*=2),e<2*-n&&(i*=2)):(e>n&&(i=45),e<-n&&(i=-45),e>2*n&&(i*=2),e<2*-n&&(i*=2)),i}(n,e,c.driveSensitivity,c.drivePrecision);if(l===n)return;s.style.transform="rotate(".concat(l,"deg)"),n=l,E(2*c.vibrate);var u=function(t){var e;switch(t){case-90:e=["joyLLeft"];break;case-45:e=["joyLUp","joyLLeft"];break;case 45:e=["joyLUp","joyLRight"];break;case 90:e=["joyLRight"];break;default:e=["joyLUp"]}return e}(l),h=u.filter((function(t){return!o.includes(t)})),v=o.filter((function(t){return!u.includes(t)}));Q(h),Q(v,!0),o=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}([],u,!0)}}}())})),"https:"!==location.protocol&&"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&t&&t.element&&(t.element.style.display="none")}var xt=function(){return xt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xt.apply(this,arguments)},Et=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))};function At(t,e){if(void 0===e&&(e=[]),"mobystk:layout"===t.type||"mobystk:group"===t.type){"mobystk:layout"!==t.type&&e.push(t);for(var n=0,o=t.parsedContent;n<o.length;n++)At(o[n],e)}else e.push(t);return e}function kt(t){var e,n,o="import"in t?t.import:t.id;if(!(null===(e=c.hidden)||void 0===e?void 0:e.includes(o))&&("import"in t&&(t=function(t){var e=Et(Et(Et([],M.buttons,!0),M.groups,!0),M.joysticks,!0).find((function(e){return e.id===t.import}));if(e)return xt(xt({},e),t)}(t)),t)){if("mobystk:button"===t.type)return(null===(n=c.locked)||void 0===n?void 0:n.includes(o))&&(t=xt(xt({},t),{lockable:!0})),new st(t);if("mobystk:group"===t.type){t.parsedContent=t.content.map(kt).filter((function(t){return t}));var i=new wt(t);return t.parsedContent=t.parsedContent.map((function(t){return t.parent=i})),i}return"mobystk:joystick"===t.type?new ht(t):void 0}}if(!c.layout)throw window.location.href="index.html",new Error("Layout não selecionado");var _t,St,jt=M.layouts.find((function(t){return t.id===c.layout}));if(!jt)throw alert("Layout não encontrado!"),window.location.href="index.html",new Error("Layout não encontrado");!function(t){var e=xt(xt({},t),{parsedContent:t.content.map(kt).filter((function(t){return t}))}),n=At(e);V.innerHTML="";for(var o=0,i=e.parsedContent;o<i.length;o++){var r=i[o];r&&(V.appendChild(r.element),r.render())}M.currentLayout=e,M.elements.all=n,M.elements.buttons=n.filter((function(t){return t instanceof st})),M.elements.groups=n.filter((function(t){return t instanceof wt})),M.elements.joysticks=n.filter((function(t){return t instanceof ht})),F.innerText=t.name||"???",function(){var t=M.elements.buttons.find((function(t){return"load-state"===t.customAction}));t&&t.element.addEventListener(c.dblClickLoadSave?"dblclick":"click",P);var e=M.elements.buttons.find((function(t){return"save-state"===t.customAction}));e&&e.element.addEventListener(c.dblClickLoadSave?"dblclick":"click",X),O=!1,T=!1,D=[];var n=M.elements.buttons.find((function(t){return"macro-record"===t.customAction}));n&&n.element.addEventListener("click",C);var o=M.elements.buttons.find((function(t){return"macro-play"===t.customAction}));o&&o.element.addEventListener("click",B),document.querySelector(".deviceInfo").addEventListener("dblclick",z)}(),Lt()}(jt);for(var Mt=0,Ot=M.elements.all;Mt<Ot.length;Mt++){var Tt=Ot[Mt];Tt instanceof st?(Tt.on("press",(function(t){return Q(t,!1)})),Tt.on("release",(function(t){return Q(t,!0)}))):Tt instanceof ht&&Tt.on("move end",mt)}c.hidden.includes("mobystk:deviceInfo")&&I.classList.add("hidden"),c.hidden.includes("mobystk:ping")&&N.classList.add("hidden"),$.addEventListener("click",d.Z),$.addEventListener("contextmenu",(function(){window.layoutEditor.opened?window.layoutEditor.end():window.layoutEditor.start()})),c.layout||(location.href="index.html"),c.debug&&document.body.classList.add("debug"),c.invertL&&document.body.classList.add("invertL"),c.invertR&&document.body.classList.add("invertR"),c.bgImage&&(Y.style.backgroundImage="url('".concat(c.bgImage,"')")),c.bgOpacity&&(Y.style.opacity=String(c.bgOpacity)),c.bgBlur&&(Y.style.filter="blur(".concat(c.bgBlur,"px)")),c.colorsBackground&&U.style.setProperty("--background",c.colorsBackground),c.colorsColor&&U.style.setProperty("--color",c.colorsColor),c.colorsBorder&&U.style.setProperty("--border",c.colorsBorder),c.colorsActive&&U.style.setProperty("--active",c.colorsActive);var Dt=document.createElement("style");if(Dt.textContent=c.customCSS,document.body.append(Dt),c.customJS&&c.customJS.trim()&&confirm("Deseja executar os plugins?"))try{new Function(c.customJS.trim())()}catch(t){alert("Ocorreu um erro ao executar os plugins\n\n"+(t.message||""))}function Pt(t){var e;(e=H.classList).remove.apply(e,Array.from(H.classList)),H.classList.add("mdi");var n=t.charging,o=100*t.level,i=10*Math.round(o/10);J.innerText=Math.round(o)+"% •",0===i?H.classList.add("mdi-battery-outline"):100===i?H.classList.add("mdi-battery"+(n?"-charging-100":"")):H.classList.add("mdi-battery-"+(n?"charging-":"")+i)}function Xt(){var t=(new Date).getHours().toString().padStart(2,"0"),e=(new Date).getMinutes().toString().padStart(2,"0");G.innerText=t+":"+e}null===(St=null===(_t=navigator.getBattery)||void 0===_t?void 0:_t.call(navigator))||void 0===St||St.then((function(t){Pt(t),t.addEventListener("chargingchange",(function(t){return Pt(t.target)})),t.addEventListener("levelchange",(function(t){return Pt(t.target)}))})).catch(console.error),window.setInterval(Xt,1e3),Xt(),q.innerText=String(c.player+1),c.debug&&I.addEventListener("click",(function(){c.player+=1,c.player>3&&(c.player=0),q.innerText=String(c.player+1)}));var Ct,Bt=function(){function t(){this.$hAnchor=null,this.$vAnchor=null,this.$editBox=null}return t.prototype.update=function(){if(this.$hAnchor.removeAttribute("style"),this.$vAnchor.removeAttribute("style"),this.$editBox.removeAttribute("style"),Ht){var t=Ht.anchorX,e=Ht.anchorY,n=Ht.width,o=Ht.height,i=Ht.x,r=Ht.y;this.$hAnchor.style.width=2!==t?i.join(""):"0px",this.$vAnchor.style.height=2!==e?r.join(""):"0px",this.$editBox.style.width=n.join(""),this.$editBox.style.height=o.join("");var a=1===t?"right":"left",s=1===e?"bottom":"top";this.$hAnchor.style[a]="0",this.$vAnchor.style[a]=2===t?"50%":"calc(".concat(i.join("")," + ").concat(n.join("")," / 2)"),this.$vAnchor.style[s]="0",this.$hAnchor.style[s]=2===e?"50%":"calc(".concat(r.join("")," + ").concat(o.join("")," / 2)"),this.$editBox.style[a]=2===t?"50%":i.join(""),this.$editBox.style[s]=2===e?"50%":r.join(""),2===t&&2===e?this.$editBox.style.transform="translate(-50%, -50%)":2===t?this.$editBox.style.transform="translateX(-50%)":2===e&&(this.$editBox.style.transform="translateY(-50%)")}},t.prototype.add=function(t){var e,n=(null===(e=t.parent)||void 0===e?void 0:e.element)||document.body;n.classList.add("editing-element-parent"),this.$hAnchor=document.createElement("div"),this.$vAnchor=document.createElement("div"),this.$editBox=document.createElement("div"),this.$hAnchor.classList.add("horizontal-anchor"),this.$vAnchor.classList.add("vertical-anchor"),this.$editBox.classList.add("editing-item-box"),n.appendChild(this.$hAnchor),n.appendChild(this.$vAnchor),n.appendChild(this.$editBox)},t.prototype.remove=function(t){var e,n,o,i;((null===(e=t.parent)||void 0===e?void 0:e.element)||document.body).classList.remove("editing-element-parent"),null===(n=this.$hAnchor)||void 0===n||n.remove(),null===(o=this.$vAnchor)||void 0===o||o.remove(),null===(i=this.$editBox)||void 0===i||i.remove()},t}(),zt=new Bt,Ut=n(865),$t=function(){function t(t){var e=this;this.element=t,this.opened=!1,this.interacting=!1,t.addEventListener("touchstart",(function(){return e.interacting=!0})),t.addEventListener("touchend",(function(){return e.interacting=!1})),this.render()}return t.prototype.render=function(){this.element.classList[this.opened?"add":"remove"]("opened"),this.element.innerHTML="",this.element.appendChild(this._html(M.currentLayout))},t.prototype._html=function(t,e){void 0===e&&(e=!0);var n,o=document.createDocumentFragment();if(!e&&t instanceof wt){var i=document.createElement("div");i.classList.add("element","group"),t===Ht&&i.classList.add("active"),(l=document.createElement("div")).classList.add("name");var r=(0,Ut.r)(this._getIcon(t)),a=(0,Ut.r)(t.name);l.innerHTML+='<i class="mdi mdi-'.concat(r,'"></i> ').concat(a),l.instance=t,i.appendChild(l),(n=document.createElement("div")).classList.add("content"),i.appendChild(n),o.appendChild(i)}else n=o;for(var s=0,c=t.parsedContent||t.content;s<c.length;s++){var d=c[s];if("content"in d&&Array.isArray(d.content))n.appendChild(this._html(d,!1));else{var l,u=document.createElement("div"),h=d instanceof st?"button":d instanceof ht?"joystick":"";h&&u.classList.add("element",h),d===Ht&&u.classList.add("active"),(l=document.createElement("div")).classList.add("name"),l.innerHTML+='<i class="mdi mdi-'.concat((0,Ut.r)(this._getIcon(d)),'"></i> ').concat((0,Ut.r)(d.name)),l.instance=d,u.appendChild(l),n.appendChild(u)}}return o},t.prototype._getIcon=function(t){switch(t.type){case"mobystk:button":return"mobystk:icon"===t.content.type?t.content.value:"checkbox-intermediate";case"mobystk:group":return"group";case"mobystk:joystick":return"gamepad"}},t}(),Yt=new $t(document.querySelector(".layout-tree")),It=function(){function t(t){var e=this;if(!t)throw new Error("Invalid element to construct Toolbar");this.element=t,this.x=0,this.y=0,this.mode=0,this.showingMore=!1,this.interacting=!1,t.addEventListener("touchstart",(function(){return e.interacting=!0})),t.addEventListener("touchend",(function(){e.interacting=!1,e.render()})),t.querySelector(".drag").addEventListener("touchmove",(function(t){e.x=Math.max(0,t.changedTouches[0].clientX-14),e.y=Math.max(0,t.changedTouches[0].clientY-21),e.render()})),this.$showLayoutTree=t.querySelector(".show-layout-tree"),this.$showLayoutTree.addEventListener("click",(function(t){Yt.opened=!Yt.opened,Yt.render(),e.render()})),this.$toolbarShowMore=t.querySelector(".show-more"),this.$toolbarShowMore.addEventListener("click",(function(t){e.showingMore=!e.showingMore,e.render()})),this.$modes=document.querySelectorAll(".mode");for(var n=function(t){var e=o;t.addEventListener("click",(function(t){var n=parseInt(this.dataset.mode);isNaN(n)||(e.mode=n,e.render())}))},o=this,i=0,r=Array.from(this.$modes);i<r.length;i++)n(r[i]);this.$anchorX=document.querySelector(".anchor-x"),this.$anchorX.addEventListener("click",(function(t){Ht.anchorX+=1,Ht.anchorX>2&&(Ht.anchorX=0),e.render(),Ht.render(),zt.update()})),this.$anchorY=document.querySelector(".anchor-y"),this.$anchorY.addEventListener("click",(function(t){Ht.anchorY+=1,Ht.anchorY>2&&(Ht.anchorY=0),e.render(),Ht.render(),zt.update()})),this.render()}return t.prototype.render=function(){var t=this.element;t.classList[this.showingMore?"add":"remove"]("showing-more"),t.classList[this.interacting?"add":"remove"]("interacting");try{this.$showLayoutTree.classList[Yt.opened?"add":"remove"]("active")}catch(t){console.error(t)}var e=this.x,n=this.y,o=t.parentElement;e+t.offsetWidth>o.offsetWidth&&(e=o.offsetWidth-t.offsetWidth),n+t.offsetHeight>o.offsetHeight&&(n=o.offsetHeight-t.offsetHeight),t.style.left=e+"px",t.style.top=n+"px",this._x=e,this._y=n;for(var i=0,r=Array.from(this.$modes);i<r.length;i++){var a=r[i],s=parseInt(a.dataset.mode);isNaN(s)||a.classList[this.mode===s?"add":"remove"]("active-mode")}var c=this.$anchorX.querySelector("i.mdi"),d=this.$anchorY.querySelector("i.mdi");c.classList.remove("mdi-align-horizontal-left","mdi-align-horizontal-center","mdi-align-horizontal-right"),d.classList.remove("mdi-align-vertical-top","mdi-align-vertical-center","mdi-align-vertical-bottom"),void 0!==Ht&&Ht?(this.$anchorX.disabled=!1,this.$anchorY.disabled=!1,0===Ht.anchorX&&c.classList.add("mdi-align-horizontal-left"),1===Ht.anchorX&&c.classList.add("mdi-align-horizontal-right"),2===Ht.anchorX&&c.classList.add("mdi-align-horizontal-center"),0===Ht.anchorY&&d.classList.add("mdi-align-vertical-top"),1===Ht.anchorY&&d.classList.add("mdi-align-vertical-bottom"),2===Ht.anchorY&&d.classList.add("mdi-align-vertical-center")):(this.$anchorX.disabled=!0,this.$anchorY.disabled=!0,c.classList.add("mdi-align-horizontal-left"),d.classList.add("mdi-align-vertical-top"))},t}(),Rt=new It(document.querySelector(".layout-editor-toolbar")),Ht=null;function Jt(t){Ct="changedTouches"in t?t.changedTouches[0]:t}function Gt(t){var e;if(!Rt.interacting&&!Yt.interacting){var n=Ht;if(n){var o="changedTouches"in t?t.changedTouches[0]:t,i=o.clientX,r=o.clientY,a=i-((null==Ct?void 0:Ct.clientX)||i),s=r-((null==Ct?void 0:Ct.clientY)||r);(2===n.anchorX&&(a<-20||a>20)&&!v.showing||2===n.anchorY&&(s<-20||s>20)&&!v.showing)&&p("Não é possível mover o elemento centralizado\nMude a posição do elemento para movimentá-lo"),Ct="changedTouches"in t?t.changedTouches[0]:t,1===n.anchorX&&(a=-a),1===n.anchorY&&(s=-s);var c=Ft,d=Ft,l=(null===(e=n.parent)||void 0===e?void 0:e.width[0])||document.body.clientWidth;0===Rt.mode?function(){"%"===n.x[1]&&u(),"%"===n.y[1]&&h(),2===n.anchorX&&(a=0),2===n.anchorY&&(s=0);var t=n._imaginaryX||n.x[0],e=n._imaginaryY||n.y[0];n.x[0]=Math.round((t+a)/c)*c,n.y[0]=Math.round((e+s)/d)*d,n._imaginaryX=t+a,n._imaginaryY=e+s}():1===Rt.mode&&(n instanceof ht?function(){var t=n;"%"===t.size[1]&&(u(),h());var e=t._imaginarySize||t.size[0],o=t._imaginaryPadding||t.padding;t.size[0]=Math.max(0,Math.round((e+a)/c)*c),t.padding=Math.max(0,Math.round((o+s)/d)*d),t._imaginarySize=Math.max(0,e+a),t._imaginaryPadding=Math.max(0,o+s)}():function(){"%"===n.width[1]&&u(),"%"===n.height[1]&&h();var t=n._imaginaryWidth||n.width[0],e=n._imaginaryHeight||n.height[0];n.width[0]=Math.max(0,Math.round((t+a)/c)*c),n.height[0]=Math.max(0,Math.round((e+s)/d)*d),n._imaginaryWidth=Math.max(0,t+a),n._imaginaryHeight=Math.max(0,e+s)}()),n.render(),zt.update()}}function u(){c=100*c/l,a=100*a/l}function h(){d=100*d/l,s=100*s/l}}function qt(t){}window.onload=function(){return Nt.start()};var Ft=10,Nt=new(function(){function t(){this.opened=!1,this._optionDisJoyXAxis=c.disJoyXAxis,this._optionDisJoyYAxis=c.disJoyYAxis}return t.prototype.start=function(){this.opened=!0,c.disJoyXAxis=!0,c.disJoyYAxis=!0,document.body.classList.add("layout-editor-opened"),document.body.style.setProperty("--grid-size",Ft+"px"),yt(),document.addEventListener("click",Wt),document.addEventListener("touchstart",Jt),document.addEventListener("touchmove",Gt),document.addEventListener("touchend",qt),document.addEventListener("mousedown",Jt),document.addEventListener("mouseup",Gt),document.addEventListener("mousemove",qt),p("Modo edição ativado"),p("Clique em algum elemento para editar")},t.prototype.end=function(){this.opened=!1,document.body.classList.remove("layout-editor-opened"),c.disJoyXAxis=this._optionDisJoyXAxis,c.disJoyYAxis=this._optionDisJoyYAxis,yt(),Ht&&(Ht.editing=!1,Ht.render(),zt.remove(Ht),Ht=null),document.removeEventListener("click",Wt),document.removeEventListener("touchstart",Jt),document.removeEventListener("touchmove",Gt),document.removeEventListener("touchend",qt),document.removeEventListener("mousedown",Zt),document.removeEventListener("mouseup",Qt),document.removeEventListener("mousemove",Kt),p("Modo edição desativado")},t}());function Wt(t){var e,n;if(!t.path.includes(Rt.element)){for(var o,i=0;t.path[i]&&(!("instance"in t.path[i])||(null===(n=null===(e=t.path[i])||void 0===e?void 0:e.instance)||void 0===n?void 0:n.editing));)i++;o=t.path[i],Ht&&(Ht.editing=!1,Ht.render(),zt.remove(Ht)),(Ht=null==o?void 0:o.instance)&&(Ht.editing=!0,Ht.render(),zt.add(Ht),zt.update()),Yt.render(),Rt.render()}}window.layoutEditor=Nt;var Vt=!1;function Zt(t){Vt=!0,Jt(t)}function Kt(t){Vt=!1}function Qt(t){Vt&&Gt(t)}document.addEventListener("contextmenu",(function(t){return t.preventDefault()})),window.addEventListener("load",(function(){document.body.classList.remove("preload")}))}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,o),r.exports}o.m=e,t=[],o.O=(e,n,i,r)=>{if(!n){var a=1/0;for(l=0;l<t.length;l++){for(var[n,i,r]=t[l],s=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(o.O).every((t=>o.O[t](n[c])))?n.splice(c--,1):(s=!1,r<a&&(a=r));if(s){t.splice(l--,1);var d=i();void 0!==d&&(e=d)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[n,i,r]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={698:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var i,r,[a,s,c]=n,d=0;if(a.some((e=>0!==t[e]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var l=c(o)}for(e&&e(n);d<a.length;d++)r=a[d],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(l)},n=self.webpackChunkjoystick=self.webpackChunkjoystick||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=o.O(void 0,[817,757],(()=>o(765)));i=o.O(i)})();
//# sourceMappingURL=joystick.js.map