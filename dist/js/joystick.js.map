{"version":3,"file":"js/joystick.js","mappings":"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","sources":["webpack://joystick/webpack/runtime/chunk loaded","webpack://joystick/./src/js/shared/keymappings.ts","webpack://joystick/./src/js/utils/get-option.ts","webpack://joystick/./src/js/shared/options.ts","webpack://joystick/./src/js/shared/socket.ts","webpack://joystick/./src/js/utils/vibrate.ts","webpack://joystick/./src/js/shared/controller.ts","webpack://joystick/./src/js/joystick/element-actions.ts","webpack://joystick/./src/js/joystick/elements.ts","webpack://joystick/./src/js/joystick/backend-integration.ts","webpack://joystick/./src/js/components/Element.ts","webpack://joystick/./src/js/utils/event-emitter.ts","webpack://joystick/./src/js/components/Button.ts","webpack://joystick/./src/js/components/Joystick.ts","webpack://joystick/./src/js/joystick/interactions.ts","webpack://joystick/./src/js/joystick/joystick.ts","webpack://joystick/./src/js/components/Group.ts","webpack://joystick/./src/js/joystick/motion-control.ts","webpack://joystick/./src/js/joystick/layout.ts","webpack://joystick/./src/js/joystick/user-interface.ts","webpack://joystick/./src/js/joystick/index.ts","webpack://joystick/webpack/bootstrap","webpack://joystick/webpack/runtime/compat get default export","webpack://joystick/webpack/runtime/define property getters","webpack://joystick/webpack/runtime/hasOwnProperty shorthand","webpack://joystick/webpack/runtime/jsonp chunk loading","webpack://joystick/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\n * Mapas de teclas\n * [Player1, Player2, Player3, Player4, VGamepad]\n */\nvar keymappings = {\n    joyLUp: ['W', 'T', '058', '195'],\n    joyLLeft: ['A', 'F', '063', '196'],\n    joyLDown: ['S', 'G', '096', '197'],\n    joyLRight: ['D', 'H', '097', '198'],\n    joyRUp: ['5', '9', '098', '199'],\n    joyRLeft: ['6', '0', '099', '200'],\n    joyRDown: ['7', '[', '100', '201'],\n    joyRRight: ['8', ']', '101', '202'],\n    padUp: ['UP', 'Z', '102', '203', 'XUSB_GAMEPAD_DPAD_UP'],\n    padLeft: ['LEFT', 'X', '103', '204', 'XUSB_GAMEPAD_DPAD_LEFT'],\n    padDown: ['DOWN', 'C', '104', '205', 'XUSB_GAMEPAD_DPAD_DOWN'],\n    padRight: ['RIGHT', 'V', '105', '206', 'XUSB_GAMEPAD_DPAD_RIGHT'],\n    actUp: ['I', 'B', '106', '207', 'XUSB_GAMEPAD_Y'],\n    actLeft: ['J', 'N', '107', '208', 'XUSB_GAMEPAD_X'],\n    actDown: ['K', 'M', '108', '209', 'XUSB_GAMEPAD_A'],\n    actRight: ['L', 'Ç', '109', '210', 'XUSB_GAMEPAD_B'],\n    left1: ['Q', 'Y', '110', '211', 'XUSB_GAMEPAD_LEFT_SHOULDER'],\n    left2: ['1', '3', '111', '212', 'XUSB_GAMEPAD_LEFT_TRIGGER'],\n    left3: [';', '´', '187', '213', 'XUSB_GAMEPAD_LEFT_THUMB'],\n    right1: ['E', 'U', '188', '214', 'XUSB_GAMEPAD_RIGHT_SHOULDER'],\n    right2: ['2', '4', '189', '215', 'XUSB_GAMEPAD_RIGHT_TRIGGER'],\n    right3: ['.', '~', '190', '216', 'XUSB_GAMEPAD_RIGHT_THUMB'],\n    select: ['ENTER', 'P', '193', '217', 'XUSB_GAMEPAD_BACK'],\n    start: ['SPACE', 'O', '231', '218', 'XUSB_GAMEPAD_START'],\n    pause: ['ESC', 'ESC', 'ESC', 'ESC', 'ESC'],\n    load: ['F1', 'F1', 'F1', 'F1', 'F1'],\n    save: ['[', '[', '[', '[', '['],\n    fast: ['TAB', 'TAB', 'TAB', 'TAB', 'TAB'],\n    volUp: [\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP'\n    ],\n    volDown: [\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN'\n    ]\n};\nwindow.keymappings = keymappings;\nexport default keymappings;\n","import store from 'store2';\nexport var ls = store.namespace('joystick');\n/**\n * Retorna uma opção do localStorage ou seu valor padrão\n */\nexport default function getOpt(name, defaultValue) {\n    var value = ls(name);\n    return value === null ? defaultValue : value;\n}\nwindow.ls = ls;\nwindow.getOpt = getOpt;\n","import getOpt from '../utils/get-option';\nvar options = {\n    ip: getOpt('code', 'localhost:5000'),\n    layout: getOpt('layout'),\n    player: getOpt('player', 1) - 1,\n    password: getOpt('password'),\n    debug: getOpt('debug', false),\n    locked: getOpt('locked', []),\n    hidden: getOpt('hidden', []),\n    invertL: getOpt('invertL', false),\n    invertR: getOpt('invertR', false),\n    disJoyXAxis: getOpt('disJoyXAxis', false),\n    disJoyYAxis: getOpt('disJoyYAxis', false),\n    dblClickLoadSave: getOpt('dblClickLoadSave', false),\n    changeKeyOnDrag: getOpt('changeKeyOnDrag', true),\n    vibrate: getOpt('vibrate', 15),\n    vibrateJoystick: getOpt('vibrateJoystick', 5),\n    vibrationFromGame: getOpt('vibrationFromGame', true),\n    vgamepad: getOpt('vgamepad', false),\n    bgImage: getOpt('bgImage', ''),\n    bgOpacity: getOpt('bgOpacity', 0.5),\n    bgBlur: getOpt('bgBlur', 0),\n    colorsBackground: getOpt('background', 'rgba(0, 0, 0, 1)'),\n    colorsColor: getOpt('color', 'rgba(255, 255, 255, 0.53)'),\n    colorsBorder: getOpt('border', 'rgba(255, 255, 255, 0.53)'),\n    colorsActive: getOpt('active', 'rgba(255, 255, 255, 0.2)'),\n    customCSS: getOpt('customCSS', ''),\n    customJS: getOpt('customJS', ''),\n    pluginMobile: getOpt('pluginMobile', false),\n    driveSensitivity: getOpt('driveSensitivity', 2),\n    drivePrecision: getOpt('drivePrecision', 1)\n};\nwindow.options = options;\nexport default options;\n","import options from './options';\nimport loading from '../utils/loading';\nimport { toast } from '../utils/toast';\nvar $ping = document.querySelector('.ping');\n// Evita aparecer a tela de senha novamente\nvar triedToAuthenticate = false;\nvar pingID;\nvar pingTime = Date.now();\n// Comandos vindos do servidor\nexport var commands = {\n    /** Exibe informações na tela */\n    INFO: function (data) {\n        toast(data);\n    },\n    /** Falha ao autenticar */\n    AUTH_FAILED: function () {\n        if (triedToAuthenticate)\n            return;\n        document.body.classList.remove('connecting', 'connected');\n        document.body.classList.add('disconnected');\n        var password = prompt('O computador requer uma senha para se conectar ao MobyStk');\n        if (password === null)\n            return;\n        localStorage.setItem('joystick.password', password);\n        triedToAuthenticate = true;\n        loading();\n        window.location.reload();\n    },\n    pong: function (id) {\n        if (Number(id) === pingID) {\n            if ($ping)\n                $ping.innerText = String(Date.now() - pingTime) + 'ms';\n            pingID = undefined;\n        }\n    }\n};\nwindow.socketConnect = _socketConnect;\nexport var socketConnect = function () { return window.socketConnect(); };\n/** Conexão do socket */\nexport var socket = socketConnect();\n/** Tenta conectar ao socket */\nexport function _socketConnect() {\n    var ws;\n    try {\n        ws = new WebSocket('ws://' + options.ip);\n    }\n    catch (err) {\n        if (options.debug)\n            console.error(err);\n        closed();\n        return;\n    }\n    ws.addEventListener('open', opened);\n    ws.addEventListener('close', closed);\n    ws.addEventListener('message', message);\n    document.body.classList.remove('connected', 'disconnected');\n    document.body.classList.add('connecting');\n    /** Socket conectado */\n    function opened() {\n        document.body.classList.remove('connecting', 'disconnected');\n        document.body.classList.add('connected');\n        ws.send('PASSWORD ' + (options.password || ''));\n    }\n    /** Socket desconectado */\n    function closed() {\n        document.body.classList.remove('connecting', 'connected');\n        document.body.classList.add('disconnected');\n        setTimeout(function () { return (socket = socketConnect()); }, 3000);\n    }\n    /** Mensagem do socket */\n    function message(e) {\n        var _a = e.data.split(' '), cmd = _a[0], data = _a.slice(1);\n        var command = commands[cmd];\n        if (typeof command !== 'function')\n            return;\n        command(data.join(' '));\n    }\n    return ws;\n}\nwindow.socket = socket;\nfunction ping() {\n    if (pingID && $ping)\n        $ping.innerText = '+999ms';\n    pingID = Math.floor(Math.random() * 1000000);\n    pingTime = Date.now();\n    socket === null || socket === void 0 ? void 0 : socket.send(\"ping \".concat(pingID));\n}\nsetInterval(ping, 1000);\n","var lastVibration = Date.now();\n/**\n * Faz o dispositivo vibrar\n */\nexport default function vibrate(pattern, force) {\n    if (force === void 0) { force = false; }\n    var time;\n    if (Array.isArray(pattern))\n        time = pattern.reduce(function (a, c) { return (a += Number(c)); }, 0);\n    else\n        time = Number(pattern);\n    if (force) {\n        lastVibration = Date.now() + time;\n        return navigator.vibrate(pattern);\n    }\n    if (Date.now() + time > lastVibration) {\n        return navigator.vibrate(pattern);\n    }\n    return false;\n}\n","import buttons from '../elements/buttons';\nimport groups from '../elements/groups';\nimport joysticks from '../elements/joysticks';\nimport layouts from '../elements/layouts';\nvar Controller = {\n    buttons: buttons,\n    groups: groups,\n    joysticks: joysticks,\n    layouts: layouts,\n    currentLayout: null,\n    currentTouches: [],\n    elements: {\n        all: [],\n        buttons: [],\n        groups: [],\n        joysticks: []\n    }\n};\nwindow.Controller = Controller;\nexport default Controller;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport Controller from '../shared/controller';\nimport vibrate from '../utils/vibrate';\nimport { sendCmd } from './backend-integration';\nimport { socket } from '../shared/socket';\nimport options from '../shared/options';\nexport var recordingMacro = false;\nexport var playingMacro = false;\nexport var lastMacro = [];\n/** Carrega o estado do jogo */\nfunction loadState() {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    sendCmd('load');\n    sendCmd('load', true);\n    vibrate(options.vibrate * 3);\n}\n/** Salva o estado do jogo */\nfunction saveState() {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    sendCmd('save');\n    sendCmd('save', true);\n    vibrate(options.vibrate * 3);\n}\n/** Inicia/para a gravação de uma macro */\nfunction recordMacro() {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    if (playingMacro)\n        return;\n    if (this.instance)\n        this.instance[this.instance.active ? 'release' : 'press']();\n    if (!recordingMacro)\n        lastMacro = [];\n    recordingMacro = !recordingMacro;\n    window.recordingMacro = recordingMacro;\n    window.lastMacro = lastMacro;\n}\n/** Executa a macro gravada */\nfunction playMacro() {\n    var _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var _i, lastMacro_1, command;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n                        return [2 /*return*/];\n                    if (recordingMacro)\n                        return [2 /*return*/];\n                    playingMacro = !playingMacro;\n                    window.playingMacro = playingMacro;\n                    if (this.instance)\n                        this.instance.press();\n                    _i = 0, lastMacro_1 = lastMacro;\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < lastMacro_1.length)) return [3 /*break*/, 4];\n                    command = lastMacro_1[_i];\n                    if (!playingMacro)\n                        return [3 /*break*/, 4];\n                    // TODO: toast desconectado\n                    if ((socket === null || socket === void 0 ? void 0 : socket.readyState) !== 1)\n                        return [3 /*break*/, 4];\n                    socket === null || socket === void 0 ? void 0 : socket.send(command);\n                    return [4 /*yield*/, new Promise(function (r) { return setTimeout(r, 50); })];\n                case 2:\n                    _b.sent();\n                    _b.label = 3;\n                case 3:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    if (this.instance)\n                        this.instance.release();\n                    playingMacro = false;\n                    window.playingMacro = playingMacro;\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n/** Entra em tela cheia */\nfunction fullScreen() {\n    document.documentElement.requestFullscreen();\n}\nexport default function loadElementActions() {\n    // CARREGAR E SALVAR\n    var loadStateBtn = Controller.elements.buttons.find(function (e) { return e.customAction === 'load-state'; });\n    if (loadStateBtn)\n        loadStateBtn.element.addEventListener(options.dblClickLoadSave ? 'dblclick' : 'click', loadState);\n    var saveStateBtn = Controller.elements.buttons.find(function (e) { return e.customAction === 'save-state'; });\n    if (saveStateBtn)\n        saveStateBtn.element.addEventListener(options.dblClickLoadSave ? 'dblclick' : 'click', saveState);\n    // MACROS\n    recordingMacro = false;\n    playingMacro = false;\n    lastMacro = [];\n    window.recordingMacro = recordingMacro;\n    window.playingMacro = playingMacro;\n    window.lastMacro = lastMacro;\n    // Iniciar/parar gravação da macro\n    var recordMacroBtn = Controller.elements.buttons.find(function (e) { return e.customAction === 'macro-record'; });\n    if (recordMacroBtn)\n        recordMacroBtn.element.addEventListener('click', recordMacro);\n    // Executar macro\n    var playMacroBtn = Controller.elements.buttons.find(function (e) { return e.customAction === 'macro-play'; });\n    if (playMacroBtn)\n        playMacroBtn.element.addEventListener('click', playMacro);\n    // TELA CHEIA\n    document.querySelector('.deviceInfo').addEventListener('dblclick', fullScreen);\n}\nwindow.playingMacro = playingMacro;\nwindow.recordingMacro = recordingMacro;\nwindow.lastMacro = lastMacro;\nwindow.loadState = loadState;\nwindow.saveState = saveState;\nwindow.recordMacro = recordMacro;\nwindow.playMacro = playMacro;\nwindow.fullScreen = fullScreen;\n","export var $root = document.documentElement;\nexport var $edit = document.querySelector('.edit');\nexport var $bgImage = document.querySelector('.backgroundImage');\nexport var $deviceInfo = document.querySelector('.deviceInfo');\nexport var $DIBattery = $deviceInfo.querySelector('.battery');\nexport var $DIBatteryIcon = $DIBattery.querySelector('.battery-icon');\nexport var $DIBatteryLevel = $DIBattery.querySelector('.battery-level');\nexport var $DIClock = $deviceInfo.querySelector('.clock');\nexport var $DIPlayerNumber = $deviceInfo.querySelector('.player .player-number');\nexport var $DILayout = $deviceInfo.querySelector('.layout');\nexport var $DIStatus = $deviceInfo.querySelector('.status');\nexport var $ping = document.querySelector('.ping');\nexport var $controllerIndicator = document.querySelector('.controller-indicator');\nexport var $layout = document.querySelector('.controller-layout');\nexport var $viewport = document.querySelector('meta[name=\"viewport\"]');\n","import keymappings from '../shared/keymappings';\nimport options from '../shared/options';\nimport { commands, socket } from '../shared/socket';\nimport vibrate from '../utils/vibrate';\nimport { lastMacro, recordingMacro } from './element-actions';\nimport { $controllerIndicator } from './elements';\nvar controllerIndicatorClass = options.vgamepad ? 'mdi-google-controller' : 'mdi-keyboard';\n$controllerIndicator.classList.add(controllerIndicatorClass);\ncommands.V = function (data) {\n    var value = data.toLowerCase().split(' ')[0];\n    if (options.vibrationFromGame) {\n        var n = parseInt(value.split('|')[0]);\n        vibrate(n ? 3000 : 0, true);\n        $controllerIndicator.classList[n ? 'remove' : 'add'](controllerIndicatorClass);\n        $controllerIndicator.classList[n ? 'add' : 'remove']('mdi-vibrate');\n    }\n};\n/**\n * Envia comandos para o servidor\n * @param keys Tecla(s) que será(ão) pressionada(s) de acordo com o KeyMapping\n * @param release Boolean indicando se a tecla está sendo solta\n * @param custom Comando personalizado para enviar ao servidor\n */\nfunction _sendCmd(keys, release, custom) {\n    if (release === void 0) { release = false; }\n    if (!keys || !keys.length)\n        return;\n    if (typeof keys === 'string')\n        keys = [keys];\n    // Mapeia as teclas\n    if (!custom)\n        keys = keys.map(function (key) {\n            var _a, _b;\n            if (options.vgamepad)\n                return (_a = keymappings[key]) === null || _a === void 0 ? void 0 : _a[4];\n            else\n                return (_b = keymappings[key]) === null || _b === void 0 ? void 0 : _b[options.player];\n        });\n    // Salva no macro ao invés de enviar para o servidor\n    if (recordingMacro && custom)\n        return lastMacro.push(\"\".concat(custom, \" \").concat(keys, \" \").concat(options.player));\n    if (recordingMacro)\n        return lastMacro.push(\"\".concat(release ? 'R' : 'P', \" \").concat(keys, \" \").concat(options.player));\n    // Se não tiver conectado, não faz nada\n    if (!socket || socket.readyState !== 1)\n        return;\n    // Envia o comando para o servidor\n    if (custom)\n        socket.send(\"\".concat(custom, \" \").concat(keys, \" \").concat(options.player));\n    else\n        socket.send(\"\".concat(release ? 'R' : 'P', \" \").concat(keys, \" \").concat(options.player));\n}\nwindow.sendCmd = _sendCmd;\nexport var sendCmd = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return window.sendCmd.apply(window, args);\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventEmitter from '../utils/event-emitter';\nvar ElementComponent = /** @class */ (function (_super) {\n    __extends(ElementComponent, _super);\n    function ElementComponent(details) {\n        var _this = _super.call(this) || this;\n        _this.type = 'mobystk:unknown';\n        _this.id = details.id || 'mobystk:unknown';\n        _this.name = details.name || '(Sem nome)';\n        _this.x = details.x || [0, 'px'];\n        _this.y = details.y || [0, 'px'];\n        _this.anchorX = details.anchorX || 0;\n        _this.anchorY = details.anchorY || 0;\n        _this.width = details.width || [100, 'px'];\n        _this.height = details.height || [100, 'px'];\n        return _this;\n    }\n    ElementComponent.prototype.render = function () {\n        var el = this.element;\n        // Reseta os estilos\n        el.style.left = null;\n        el.style.right = null;\n        el.style.top = null;\n        el.style.bottom = null;\n        el.style.transform = null;\n        // Aplica os estilos\n        el.style.width = this.width.join('');\n        el.style.height = this.height.join('');\n        if (this.anchorX === 0)\n            el.style.left = this.x.join('');\n        if (this.anchorX === 1)\n            el.style.right = this.x.join('');\n        if (this.anchorY === 0)\n            el.style.top = this.y.join('');\n        if (this.anchorY === 1)\n            el.style.bottom = this.y.join('');\n        el.classList[this.anchorX === 2 ? 'add' : 'remove']('center-x');\n        el.classList[this.anchorY === 2 ? 'add' : 'remove']('center-y');\n        // Editando elemento\n        el.classList[this.editing ? 'add' : 'remove']('controller-editing');\n    };\n    ElementComponent.prototype.toObject = function () {\n        return {\n            type: this.type,\n            id: this.id,\n            name: this.name,\n            x: this.x,\n            y: this.y,\n            anchorX: this.anchorX,\n            anchorY: this.anchorY,\n            width: this.width,\n            height: this.height\n        };\n    };\n    return ElementComponent;\n}(EventEmitter));\nexport default ElementComponent;\n","var EventEmitter = /** @class */ (function () {\n    function EventEmitter() {\n        this.events = {};\n    }\n    EventEmitter.prototype.on = function (events, listener) {\n        var _this = this;\n        for (var _i = 0, _a = events.split(' '); _i < _a.length; _i++) {\n            var event_1 = _a[_i];\n            if (typeof this.events[event_1] !== 'object') {\n                this.events[event_1] = [];\n            }\n            this.events[event_1].push(listener);\n        }\n        return function () {\n            for (var _i = 0, _a = events.split(' '); _i < _a.length; _i++) {\n                var event_2 = _a[_i];\n                _this.off(event_2, listener);\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (events, listener) {\n        for (var _i = 0, _a = events.split(' '); _i < _a.length; _i++) {\n            var event_3 = _a[_i];\n            if (typeof this.events[event_3] === 'object') {\n                var idx = this.events[event_3].indexOf(listener);\n                if (idx > -1) {\n                    this.events[event_3].splice(idx, 1);\n                }\n            }\n        }\n    };\n    EventEmitter.prototype.emit = function (events) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        for (var _a = 0, _b = events.split(' '); _a < _b.length; _a++) {\n            var event_4 = _b[_a];\n            if (typeof this.events[event_4] === 'object') {\n                this.events[event_4].forEach(function (listener) { return listener.apply(_this, args); });\n            }\n        }\n    };\n    EventEmitter.prototype.once = function (events, listener) {\n        var _this = this;\n        var _loop_1 = function (event_5) {\n            var remove = this_1.on(event_5, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                remove();\n                listener.apply(_this, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = events.split(' '); _i < _a.length; _i++) {\n            var event_5 = _a[_i];\n            _loop_1(event_5);\n        }\n    };\n    return EventEmitter;\n}());\nexport default EventEmitter;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Controller from '../shared/controller';\nimport ElementComponent from './Element';\nvar ButtonComponent = /** @class */ (function (_super) {\n    __extends(ButtonComponent, _super);\n    function ButtonComponent(details) {\n        var _this = _super.call(this, details) || this;\n        _this.type = 'mobystk:button';\n        _this.content = details.content || { type: 'mobystk:text', value: '' };\n        _this.key = details.key || '';\n        _this.customAction = details.customAction || false;\n        _this.lockable = details.lockable || false;\n        _this.diagonal = details.diagonal || false;\n        if (_this.diagonal)\n            _this.targets = details.targets || [];\n        _this.scalable = details.scalable || false;\n        _this.border = details.border || [true, true, true, true];\n        _this.radius = details.radius || [\n            [0, 'px'],\n            [0, 'px'],\n            [0, 'px'],\n            [0, 'px']\n        ];\n        _this.fontSize = details.fontSize || [20, 'px'];\n        _this.active = false;\n        _this.editing = false;\n        var $button = (document.createElement('button'));\n        $button.classList.add('controller-button');\n        $button.dataset.id = _this.id;\n        $button.instance = _this;\n        _this.element = $button;\n        return _this;\n    }\n    ButtonComponent.prototype.press = function (diagonal) {\n        var _this = this;\n        if (diagonal === void 0) { diagonal = false; }\n        if (this.diagonal) {\n            var targets = Controller.elements.buttons.filter(function (e) { return _this.targets.includes(e.id) && !e.lockable; });\n            for (var _i = 0, targets_1 = targets; _i < targets_1.length; _i++) {\n                var target = targets_1[_i];\n                target.press(true);\n            }\n        }\n        else {\n            if (!this.active && !this.customAction)\n                this.emit('press', this.key);\n            if (this.scalable && !this.active && !diagonal) {\n                this.element.classList.add('controller-button-scale');\n            }\n            else if (!this.active && diagonal) {\n                this.element.classList.add('controller-button-active-diagonal');\n                this.element.classList.add('controller-button-scale-diagonal');\n            }\n            this.active = true;\n            this.element.classList.add('controller-button-active');\n        }\n    };\n    ButtonComponent.prototype.release = function () {\n        var _this = this;\n        if (this.diagonal) {\n            var targets = Controller.elements.buttons.filter(function (e) { return _this.targets.includes(e.id); });\n            for (var _i = 0, targets_2 = targets; _i < targets_2.length; _i++) {\n                var target = targets_2[_i];\n                target.release();\n            }\n        }\n        else {\n            if (this.active && !this.customAction)\n                this.emit('release', this.key);\n            this.active = false;\n            this.element.classList.remove('controller-button-active');\n            this.element.classList.remove('controller-button-scale');\n            this.element.classList.remove('controller-button-active-diagonal');\n            this.element.classList.remove('controller-button-scale-diagonal');\n        }\n    };\n    ButtonComponent.prototype.render = function () {\n        _super.prototype.render.call(this);\n        var el = this.element;\n        // Aplica os estilos\n        if (!this.border[0])\n            el.style.borderTop = '0';\n        if (!this.border[1])\n            el.style.borderRight = '0';\n        if (!this.border[2])\n            el.style.borderBottom = '0';\n        if (!this.border[3])\n            el.style.borderLeft = '0';\n        var radius = this.radius.map(function (e) { return e.join(''); }).join(' ');\n        el.style.borderRadius = radius;\n        el.style.fontSize = this.fontSize.join('');\n        // Botões de diagonal e bloqueáveis e editando\n        el.classList[this.diagonal ? 'add' : 'remove']('controller-button-diagonal');\n        el.classList[this.lockable ? 'add' : 'remove']('controller-button-lockable');\n        // Conteúdo do botão\n        el.innerHTML = '';\n        if (this.content.type === 'mobystk:text') {\n            el.innerText = this.content.value;\n        }\n        else if (this.content.type === 'mobystk:icon') {\n            var $icon = document.createElement('i');\n            $icon.classList.add('mdi', 'mdi-' + this.content.value);\n            el.appendChild($icon);\n        }\n        if (this._html) {\n            el.innerHTML = this._html;\n        }\n        // Botão com ação personalizada\n        el.classList[this.customAction ? 'add' : 'remove']('controller-custom-action');\n        el.dataset.action = this.customAction || null;\n    };\n    ButtonComponent.prototype.toObject = function () {\n        return __assign(__assign({}, _super.prototype.toObject.call(this)), { type: this.type, key: this.key, border: this.border, fontSize: this.fontSize, content: this.content, radius: this.radius, lockable: this.lockable, scalable: this.scalable, customAction: this.customAction, diagonal: this.diagonal, targets: this.targets });\n    };\n    return ButtonComponent;\n}(ElementComponent));\nexport default ButtonComponent;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport nipplejs from 'nipplejs';\nimport options from '../shared/options';\nimport ElementComponent from './Element';\nvar JoystickComponent = /** @class */ (function (_super) {\n    __extends(JoystickComponent, _super);\n    function JoystickComponent(details) {\n        var _this = _super.call(this, details) || this;\n        _this.type = 'mobystk:joystick';\n        _this.size = details.size || [90, 'px'];\n        _this.padding = details.padding || 60;\n        _this.keys = details.keys || ['joyLUp', 'joyLLeft', 'joyLDown', 'joyLRight'];\n        _this.position = { up: false, down: false, left: false, right: false };\n        var $joystick = document.createElement('div');\n        $joystick.classList.add('controller-joystick');\n        $joystick.dataset.id = _this.id;\n        $joystick.instance = _this;\n        _this.element = $joystick;\n        return _this;\n    }\n    JoystickComponent.prototype.render = function () {\n        var _this = this;\n        this.width = [this.size[0] + this.padding, this.size[1]];\n        this.height = [this.size[0] + this.padding, this.size[1]];\n        _super.prototype.render.call(this);\n        var el = this.element;\n        // Reseta a posição\n        this.position = { up: false, down: false, left: false, right: false };\n        // NippleJS\n        if (this.nipple)\n            this.nipple.destroy();\n        this.nipple = nipplejs.create({\n            zone: el,\n            size: this.size[0],\n            mode: 'static',\n            position: {\n                left: '50%',\n                top: '50%'\n            },\n            lockX: options.disJoyYAxis,\n            lockY: options.disJoyXAxis\n        });\n        // Eventos\n        this.nipple.on('move', function (e, d) { return _this.emit('move', _this, e, d); });\n        this.nipple.on('end', function (e, d) { return _this.emit('end', _this, e, d); });\n    };\n    JoystickComponent.prototype.toObject = function () {\n        return __assign(__assign({}, _super.prototype.toObject.call(this)), { type: this.type, size: this.size, padding: this.padding, keys: this.keys });\n    };\n    return JoystickComponent;\n}(ElementComponent));\nexport default JoystickComponent;\n","import ButtonComponent from '../components/Button';\nimport Controller from '../shared/controller';\nimport JoystickComponent from '../components/Joystick';\nimport vibrate from '../utils/vibrate';\nimport options from '../shared/options';\ndocument.addEventListener('touchstart', touchStart);\ndocument.addEventListener('touchmove', touchMove);\ndocument.addEventListener('touchend', touchEnd);\ndocument.addEventListener('touchcancel', touchEnd);\n/**\n * Início do toque\n */\nfunction touchStart(e) {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    for (var _i = 0, _b = Array.from(e.changedTouches); _i < _b.length; _i++) {\n        var touch = _b[_i];\n        var target = document.elementFromPoint(touch.clientX, touch.clientY);\n        while (target !== null &&\n            !((target.instance instanceof ButtonComponent && !target.instance.customAction) ||\n                target.instance instanceof JoystickComponent)) {\n            target = target.parentElement;\n        }\n        if (target === null || target === void 0 ? void 0 : target.instance.lockable) {\n            vibrate(options.vibrate);\n            if (target.instance.active)\n                target.instance.release();\n            else\n                target.instance.press();\n            continue;\n        }\n        var joystick = (target === null || target === void 0 ? void 0 : target.instance) instanceof JoystickComponent;\n        Controller.currentTouches.push({ target: target, touch: touch, joystick: joystick });\n        if (!target)\n            continue;\n        vibrate(options.vibrate);\n        if (joystick)\n            continue;\n        target.instance.press();\n    }\n}\n/**\n * Movimento do toque\n */\nfunction touchMove(e) {\n    var _a, _b, _c;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    var _loop_1 = function (touch) {\n        var i = Controller.currentTouches.findIndex(function (t) {\n            return t.touch.identifier === touch.identifier;\n        });\n        if (i < 0)\n            return \"continue\";\n        var oldtouch = Controller.currentTouches[i];\n        if (oldtouch.joystick)\n            return \"continue\";\n        if (!options.changeKeyOnDrag && oldtouch.target)\n            return \"continue\";\n        oldtouch.touch = touch;\n        var target = document.elementFromPoint(touch.clientX, touch.clientY);\n        // todo: colocar lockable aqui\n        while (target !== null &&\n            !(target.instance instanceof ButtonComponent &&\n                !target.instance.customAction &&\n                !target.instance.lockable)) {\n            target = target.parentElement;\n        }\n        if (oldtouch.target === target)\n            return \"continue\";\n        (_b = oldtouch.target) === null || _b === void 0 ? void 0 : _b.instance.release();\n        if (!target || ((_c = target.instance) === null || _c === void 0 ? void 0 : _c.active))\n            target = null;\n        oldtouch.target = target;\n        if (!target)\n            return \"continue\";\n        target.instance.press();\n        vibrate(options.vibrate);\n    };\n    for (var _i = 0, _d = Array.from(e.changedTouches); _i < _d.length; _i++) {\n        var touch = _d[_i];\n        _loop_1(touch);\n    }\n}\n/**\n * Fim do toque\n */\nfunction touchEnd(e) {\n    var _a, _b;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    var _loop_2 = function (touch) {\n        var i = Controller.currentTouches.findIndex(function (t) {\n            return t.touch.identifier === touch.identifier;\n        });\n        if (i < 0)\n            return \"continue\";\n        if (((_b = Controller.currentTouches[i].target) === null || _b === void 0 ? void 0 : _b.instance) instanceof\n            ButtonComponent) {\n            ;\n            Controller.currentTouches[i].target.instance.release();\n        }\n        Controller.currentTouches.splice(i, 1);\n    };\n    for (var _i = 0, _c = Array.from(e.changedTouches); _i < _c.length; _i++) {\n        var touch = _c[_i];\n        _loop_2(touch);\n    }\n}\n","import Controller from '../shared/controller';\nimport vibrate from '../utils/vibrate';\nimport { sendCmd } from './backend-integration';\nimport { $viewport } from './elements';\nimport options from '../shared/options';\nvar joysticks = ['mobystk:joystick_left', 'mobystk:joystick_right'];\n/**\n * Atualiza os dados dos joysticks e pressiona as teclas do computador\n */\nexport default function updateJoystick(target, _e, d) {\n    var _a, _b;\n    vibrate((options.vibrateJoystick * (d === null || d === void 0 ? void 0 : d.distance)) / 45);\n    // Se estiver usando o vgamepad\n    if (options.vgamepad && joysticks.includes(target.id)) {\n        var x = Math.round(-32768 + (65534 / 90) * (45 + (d === null || d === void 0 ? void 0 : d.distance) * Math.cos((_a = d === null || d === void 0 ? void 0 : d.angle) === null || _a === void 0 ? void 0 : _a.radian)));\n        var y = Math.round(-32768 + (65534 / 90) * (45 + (d === null || d === void 0 ? void 0 : d.distance) * Math.sin((_b = d === null || d === void 0 ? void 0 : d.angle) === null || _b === void 0 ? void 0 : _b.radian)));\n        if (isNaN(x) || isNaN(y))\n            x = y = 0;\n        if (target.id === 'mobystk:joystick_left')\n            sendCmd(\"\".concat(x, \"|\").concat(y), false, 'VJL');\n        if (target.id === 'mobystk:joystick_right')\n            sendCmd(\"\".concat(x, \"|\").concat(y), false, 'VJR');\n    }\n    // Se o joystick estiver em repouso, desapertar teclas\n    if (!(d === null || d === void 0 ? void 0 : d.direction)) {\n        update('up', false);\n        update('left', false);\n        update('down', false);\n        update('right', false);\n        return;\n    }\n    // Define as teclas de acordo com a posição\n    if (!options.disJoyYAxis)\n        update('up', (d === null || d === void 0 ? void 0 : d.angle.degree) > 22.5 && (d === null || d === void 0 ? void 0 : d.angle.degree) < 157.5);\n    if (!options.disJoyXAxis)\n        update('left', (d === null || d === void 0 ? void 0 : d.angle.degree) > 112.5 && (d === null || d === void 0 ? void 0 : d.angle.degree) < 247.5);\n    if (!options.disJoyYAxis)\n        update('down', (d === null || d === void 0 ? void 0 : d.angle.degree) > 202.5 && (d === null || d === void 0 ? void 0 : d.angle.degree) < 337.5);\n    if (!options.disJoyXAxis)\n        update('right', (d === null || d === void 0 ? void 0 : d.angle.degree) > 292.5 || (d === null || d === void 0 ? void 0 : d.angle.degree) < 67.5);\n    /**\n     * Pressiona as teclas\n     */\n    function update(dir, value) {\n        var _a = getKeyAndBorder(target.keys, dir), key = _a.key, border = _a.border;\n        // Efeito da borda\n        var $back = target.element.querySelector('.back');\n        $back.style[\"border\".concat(border, \"Width\")] = value ? '7px' : '';\n        if (!(options.vgamepad && joysticks.includes(target.id))) {\n            if (target.position[dir] === value)\n                return;\n            sendCmd([key], !value);\n        }\n        target.position[dir] = value;\n    }\n}\n/**\n * Retorna a tecla que será pressionada e a borda\n */\nfunction getKeyAndBorder(keys, dir) {\n    var keysAndBorders = {\n        up: [keys[0], 'Top'],\n        left: [keys[1], 'Left'],\n        down: [keys[2], 'Bottom'],\n        right: [keys[3], 'Right']\n    };\n    var _a = keysAndBorders[dir], key = _a[0], border = _a[1];\n    return { key: key, border: border };\n}\n/**\n * Reinicia os joysticks para evitar bugs\n */\nexport function resizeJoystick() {\n    // Ajusta os tamanhos do controle\n    var width;\n    if (window.outerHeight > window.outerWidth / 1.7777777777777777)\n        width = 640;\n    else\n        width = (window.outerWidth / window.outerHeight) * 360;\n    $viewport.setAttribute('content', \"width=\".concat(width, \", user-scalable=0\"));\n    // Reconstrói os joysticks\n    Controller.currentTouches = Controller.currentTouches.filter(function (el) { return !el.joystick; });\n    var joysticks = Controller.elements.joysticks;\n    joysticks.forEach(function (j) { return j.render(); });\n}\nwindow.addEventListener('load', resizeJoystick);\nwindow.addEventListener('resize', resizeJoystick);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport ElementComponent from './Element';\nvar GroupComponent = /** @class */ (function (_super) {\n    __extends(GroupComponent, _super);\n    function GroupComponent(details) {\n        var _this = _super.call(this, details) || this;\n        _this.type = 'mobystk:group';\n        _this.content = details.content || [];\n        _this.parsedContent = details.parsedContent || [];\n        var $group = document.createElement('div');\n        $group.classList.add('controller-group');\n        $group.dataset.id = _this.id;\n        $group.instance = _this;\n        _this.element = $group;\n        for (var _i = 0, _a = _this.parsedContent; _i < _a.length; _i++) {\n            var element = _a[_i];\n            $group.appendChild(element.element);\n            element.render();\n        }\n        return _this;\n    }\n    GroupComponent.prototype.toObject = function () {\n        return __assign(__assign({}, _super.prototype.toObject.call(this)), { type: this.type, content: this.content });\n    };\n    return GroupComponent;\n}(ElementComponent));\nexport default GroupComponent;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport Controller from '../shared/controller';\nimport vibrate from '../utils/vibrate';\nimport { sendCmd } from './backend-integration';\nimport options from '../shared/options';\nvar defaultDriveHTML = \"\\n\\t<svg viewBox=\\\"0 0 32 32\\\">\\n\\t\\t<path d=\\\"M16 0a16 16 0 100 32 16 16 0 000-32zm0 4a12 12 0 0111.3 8H4.7c1.7-4.6 6-8 11.3-8zm0 14a2 2 0 110-4 2 2 0 010 4zM4 16c5.5 0 9.9 5.3 10 11.8A12 12 0 014 16zm14 11.8c.1-6.5 4.5-11.8 10-11.8a12 12 0 01-10 11.8z\\\"></path>\\n\\t</svg>\";\nexport default function loadDriveMode() {\n    var drive = Controller.elements.buttons.find(function (e) { return e.customAction === 'drive'; });\n    var driveHTML = drive ? (drive._html = defaultDriveHTML) : '';\n    drive === null || drive === void 0 ? void 0 : drive.render();\n    if (drive)\n        drive.element.addEventListener('touchstart', toggleDriveMode);\n    // Desativa o ícone de volante, caso não esteja em HTTPS\n    if (!isHTTPS() && drive && drive.element)\n        drive.element.style.display = 'none';\n    /**\n     * Liga/desliga o sensor\n     */\n    function toggleDriveMode() {\n        var _a;\n        if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n            return;\n        // Inicia/para o sensor\n        drive.active ? stopSensor() : startSensor();\n        /**\n         * Inicia o sensor\n         */\n        function startSensor() {\n            drive.press();\n            drive.element.innerHTML = '<i class=\"driveArrow mdi mdi-arrow-up\"></i>';\n            var driveY = 0;\n            var driveAngle = 0;\n            var lastDirections = [];\n            // Detecta os movimentos\n            window.ondevicemotion = function (e) {\n                var land = window.outerWidth > window.outerHeight;\n                var inverted = e.accelerationIncludingGravity[land ? 'x' : 'y'] >= 0 ? 1 : -1;\n                driveY = parseFloat(e.accelerationIncludingGravity[land ? 'y' : 'x'].toFixed(1));\n                driveY *= inverted * (land ? 1 : -1);\n                var $steeringWheel = drive.element.children[0];\n                if (!options.vgamepad) {\n                    // Define a direção (ângulo)\n                    var angle = getArrowAngle(driveAngle, driveY, options.driveSensitivity, options.drivePrecision);\n                    if (angle === driveAngle)\n                        return;\n                    $steeringWheel.style.transform = \"rotate(\".concat(angle, \"deg)\");\n                    driveAngle = angle;\n                    vibrate(options.vibrate * 2);\n                    // Pressiona as teclas\n                    var directions_1 = getDirections(angle);\n                    var pressKeys = directions_1.filter(function (e) { return !lastDirections.includes(e); });\n                    var unpressKeys = lastDirections.filter(function (e) { return !directions_1.includes(e); });\n                    sendCmd(pressKeys);\n                    sendCmd(unpressKeys, true);\n                    lastDirections = __spreadArray([], directions_1, true);\n                }\n                else {\n                    // Usando VGamepad\n                    var x = Math.round((32767 / options.driveSensitivity) * driveY);\n                    if (x < 10923 * options.drivePrecision && x > -10923 * options.drivePrecision)\n                        x = 0;\n                    if (x > 32767)\n                        x = 32767;\n                    if (x < -32767)\n                        x = -32767;\n                    var angle = (90 * x) / 32767;\n                    $steeringWheel.style.transform = \"rotate(\".concat(angle, \"deg)\");\n                    sendCmd(\"\".concat(x, \"|0\"), false, 'VJL');\n                }\n            };\n        }\n        /**\n         * Para o sensor\n         */\n        function stopSensor() {\n            drive.release();\n            drive.element.innerHTML = driveHTML;\n            window.ondevicemotion = null;\n            if (!options.vgamepad) {\n                sendCmd('joyLUp', true);\n                sendCmd('joyLLeft', true);\n                sendCmd('joyLRight', true);\n            }\n            else {\n                sendCmd('0|0', false, 'VJL');\n            }\n        }\n    }\n}\n/**\n * Retorna true se o site estiver em HTTPS\n */\nfunction isHTTPS() {\n    return (location.protocol === 'https:' ||\n        location.hostname === 'localhost' ||\n        location.hostname === '127.0.0.1');\n}\n/**\n * Retorna o ângulo em graus da rotação do celular\n */\nfunction getArrowAngle(driveAngle, driveY, SENSITIVITY, PRECISION) {\n    var angle = 0;\n    if (driveAngle === -45) {\n        if (driveY > SENSITIVITY)\n            angle = 45;\n        if (driveY < -SENSITIVITY + PRECISION)\n            angle = -45;\n        if (driveY > SENSITIVITY * 2)\n            angle *= 2;\n        if (driveY < -SENSITIVITY * 2 - PRECISION)\n            angle *= 2;\n    }\n    else if (driveAngle === 45) {\n        if (driveY > SENSITIVITY - PRECISION)\n            angle = 45;\n        if (driveY < -SENSITIVITY)\n            angle = -45;\n        if (driveY > SENSITIVITY * 2 + PRECISION)\n            angle *= 2;\n        if (driveY < -SENSITIVITY * 2)\n            angle *= 2;\n    }\n    else {\n        if (driveY > SENSITIVITY)\n            angle = 45;\n        if (driveY < -SENSITIVITY)\n            angle = -45;\n        if (driveY > SENSITIVITY * 2)\n            angle *= 2;\n        if (driveY < -SENSITIVITY * 2)\n            angle *= 2;\n    }\n    return angle;\n}\n/**\n * Retorna as teclas que devem estar pressionadas no ângulo atual\n */\nfunction getDirections(angle) {\n    var directions;\n    switch (angle) {\n        case -90:\n            directions = ['joyLLeft'];\n            break;\n        case -45:\n            directions = ['joyLUp', 'joyLLeft'];\n            break;\n        case 45:\n            directions = ['joyLUp', 'joyLRight'];\n            break;\n        case 90:\n            directions = ['joyLRight'];\n            break;\n        default:\n            directions = ['joyLUp'];\n    }\n    return directions;\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport ButtonComponent from '../components/Button';\nimport GroupComponent from '../components/Group';\nimport JoystickComponent from '../components/Joystick';\nimport Controller from '../shared/controller';\nimport { sendCmd } from './backend-integration';\nimport loadElementActions from './element-actions';\nimport { $DILayout, $layout } from './elements';\nimport updateJoystick from './joystick';\nimport loadDriveMode from './motion-control';\nimport options from '../shared/options';\n/**\n * Carrega o layout\n */\nexport function loadLayout(layout) {\n    var parsedLayout = __assign(__assign({}, layout), { parsedContent: layout.content.map(parseElement).filter(function (e) { return e; }) });\n    var allElements = getAllElements(parsedLayout);\n    $layout.innerHTML = '';\n    for (var _i = 0, _a = parsedLayout.parsedContent; _i < _a.length; _i++) {\n        var object = _a[_i];\n        if (!object)\n            continue;\n        $layout.appendChild(object.element);\n        object.render();\n    }\n    Controller.currentLayout = parsedLayout;\n    Controller.elements.all = allElements;\n    Controller.elements.buttons = allElements.filter(function (e) { return e instanceof ButtonComponent; });\n    Controller.elements.groups = allElements.filter(function (e) { return e instanceof GroupComponent; });\n    Controller.elements.joysticks = allElements.filter(function (e) { return e instanceof JoystickComponent; });\n    $DILayout.innerText = layout.name || '???';\n    loadElementActions();\n    loadDriveMode();\n    return layout;\n}\n/**\n * Retorna todos os elementos (botões, grupos e joysticks) de um objeto\n */\nexport function getAllElements(object, elements) {\n    if (elements === void 0) { elements = []; }\n    if (object.type === 'mobystk:layout' || object.type === 'mobystk:group') {\n        object = object;\n        if (object.type !== 'mobystk:layout')\n            elements.push(object);\n        for (var _i = 0, _a = object.parsedContent; _i < _a.length; _i++) {\n            var obj = _a[_i];\n            getAllElements(obj, elements);\n        }\n    }\n    else {\n        elements.push(object);\n    }\n    return elements;\n}\n/**\n * Converte os elementos de JSON para objetos\n */\nexport function parseElement(object) {\n    var _a, _b;\n    var objectID = 'import' in object ? object.import : object.id;\n    // Remove os itens ocultos\n    if ((_a = options.hidden) === null || _a === void 0 ? void 0 : _a.includes(objectID))\n        return;\n    // Importa os elementos\n    if ('import' in object)\n        object = importElement(object);\n    // Descarta os objetos inválidos\n    if (!object)\n        return;\n    if (object.type === 'mobystk:button') {\n        // Botão\n        object = object;\n        if ((_b = options.locked) === null || _b === void 0 ? void 0 : _b.includes(objectID))\n            object = __assign(__assign({}, object), { lockable: true });\n        return new ButtonComponent(object);\n    }\n    else if (object.type === 'mobystk:group') {\n        // Grupo\n        object = object;\n        object.parsedContent = object.content\n            .map(parseElement)\n            .filter(function (e) { return e; });\n        var group_1 = new GroupComponent(object);\n        object.parsedContent = object.parsedContent.map(function (e) { return (e.parent = group_1); });\n        return group_1;\n    }\n    else if (object.type === 'mobystk:joystick') {\n        // Joystick\n        object = object;\n        return new JoystickComponent(object);\n    }\n}\n/**\n * Reutiliza um elemento\n */\nexport function importElement(object) {\n    var allElements = __spreadArray(__spreadArray(__spreadArray([], Controller.buttons, true), Controller.groups, true), Controller.joysticks, true);\n    var element = allElements.find(function (e) { return e.id === object.import; });\n    if (element)\n        return __assign(__assign({}, element), object);\n}\n// Carrega o layout selecionado\nif (!options.layout) {\n    window.location.href = 'index.html';\n    throw new Error('Layout não selecionado');\n}\nvar layout = Controller.layouts.find(function (l) { return l.id === options.layout; });\nif (!layout) {\n    alert('Layout não encontrado!');\n    window.location.href = 'index.html';\n    throw new Error('Layout não encontrado');\n}\nloadLayout(layout);\n// Configura os eventos dos elementos\nfor (var _i = 0, _a = Controller.elements.all; _i < _a.length; _i++) {\n    var element = _a[_i];\n    if (element instanceof ButtonComponent) {\n        element.on('press', function (key) { return sendCmd(key, false); });\n        element.on('release', function (key) { return sendCmd(key, true); });\n    }\n    else if (element instanceof JoystickComponent) {\n        element.on('move end', updateJoystick);\n    }\n}\n","var _a, _b;\nimport loading from '../utils/loading';\nimport { $bgImage, $deviceInfo, $DIBatteryIcon, $DIBatteryLevel, $DIClock, $DIPlayerNumber, $ping, $edit, $root } from './elements';\nimport options from '../shared/options';\nimport { toast } from '../utils/toast';\n// ELEMENTOS\nif (options.hidden.includes('mobystk:deviceInfo')) {\n    $deviceInfo.classList.add('hidden');\n}\nif (options.hidden.includes('mobystk:ping')) {\n    $ping.classList.add('hidden');\n}\n// CARREGAMENTO DAS OPÇÕES\n$edit.addEventListener('click', loading);\n$edit.addEventListener('contextmenu', function () {\n    window.layoutEditor.opened ? window.layoutEditor.end() : window.layoutEditor.start();\n});\nif (!options.layout)\n    location.href = 'index.html';\nif (options.debug)\n    document.body.classList.add('debug');\nif (options.invertL)\n    document.body.classList.add('invertL');\nif (options.invertR)\n    document.body.classList.add('invertR');\nif (options.bgImage)\n    $bgImage.style.backgroundImage = \"url('\".concat(options.bgImage, \"')\");\nif (options.bgOpacity)\n    $bgImage.style.opacity = String(options.bgOpacity);\nif (options.bgBlur)\n    $bgImage.style.filter = \"blur(\".concat(options.bgBlur, \"px)\");\nif (options.colorsBackground)\n    $root.style.setProperty('--background', options.colorsBackground);\nif (options.colorsColor)\n    $root.style.setProperty('--color', options.colorsColor);\nif (options.colorsBorder)\n    $root.style.setProperty('--border', options.colorsBorder);\nif (options.colorsActive)\n    $root.style.setProperty('--active', options.colorsActive);\n// CSS PERSONALIZADO\nvar $customCSS = document.createElement('style');\n$customCSS.textContent = options.customCSS;\ndocument.body.append($customCSS);\n// JS PERSONALIZADO\nif (options.customJS && options.customJS.trim()) {\n    if (confirm('Deseja executar os plugins?')) {\n        try {\n            new Function(options.customJS.trim())();\n        }\n        catch (err) {\n            alert('Ocorreu um erro ao executar os plugins\\n\\n' + (err.message || ''));\n        }\n    }\n}\n// PLUGIN MOBYSTK MOBILE\nif (options.pluginMobile) {\n    var $script = document.createElement('script');\n    $script.src = 'lib/plugins/mobile.js';\n    $script.onerror = function () { return toast('Erro ao carregar plugin MobyStk Mobile'); };\n    document.body.appendChild($script);\n}\n// INFORMAÇÕES - BATERIA\n(_b = (_a = navigator\n    .getBattery) === null || _a === void 0 ? void 0 : _a.call(navigator)) === null || _b === void 0 ? void 0 : _b.then(function (battery) {\n    updateBattery(battery);\n    battery.addEventListener('chargingchange', function (e) { return updateBattery(e.target); });\n    battery.addEventListener('levelchange', function (e) { return updateBattery(e.target); });\n}).catch(console.error);\n// Atualiza o ícone e porcentagem da bateria\nfunction updateBattery(battery) {\n    var _a;\n    (_a = $DIBatteryIcon.classList).remove.apply(_a, Array.from($DIBatteryIcon.classList));\n    $DIBatteryIcon.classList.add('mdi');\n    var charging = battery.charging;\n    var level = battery.level * 100;\n    var roundLevel = Math.round(level / 10) * 10;\n    $DIBatteryLevel.innerText = Math.round(level) + '% •';\n    if (roundLevel === 0) {\n        $DIBatteryIcon.classList.add('mdi-battery-outline');\n    }\n    else if (roundLevel === 100) {\n        $DIBatteryIcon.classList.add('mdi-battery' + (charging ? '-charging-100' : ''));\n    }\n    else {\n        $DIBatteryIcon.classList.add('mdi-battery-' + (charging ? 'charging-' : '') + roundLevel);\n    }\n}\n// INFORMAÇÕES - RELÓGIO\nwindow.setInterval(updateClock, 1000);\nupdateClock();\n// Atualiza as horas do relógio\nfunction updateClock() {\n    var hours = new Date().getHours().toString().padStart(2, '0');\n    var minutes = new Date().getMinutes().toString().padStart(2, '0');\n    $DIClock.innerText = hours + ':' + minutes;\n}\n// INFORMAÇÕES - Nº JOGADOR E NOME DO LAYOUT\n$DIPlayerNumber.innerText = String(options.player + 1);\n// ATUALIZA O JOGADOR DO CONTROLE NO MODO DEBUG\nif (options.debug)\n    $deviceInfo.addEventListener('click', function () {\n        options.player += 1;\n        if (options.player > 3)\n            options.player = 0;\n        $DIPlayerNumber.innerText = String(options.player + 1);\n    });\n","import './backend-integration';\nimport './element-actions';\nimport './interactions';\nimport './joystick';\nimport './layout';\nimport './motion-control';\nimport './user-interface';\n// import './layout-editor'\ndocument.addEventListener('contextmenu', function (e) { return e.preventDefault(); });\nwindow.addEventListener('load', function () {\n    document.body.classList.remove('preload');\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t698: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkjoystick\"] = self[\"webpackChunkjoystick\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [817,311], () => (__webpack_require__(304)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","keymappings","joyLUp","joyLLeft","joyLDown","joyLRight","joyRUp","joyRLeft","joyRDown","joyRRight","padUp","padLeft","padDown","padRight","actUp","actLeft","actDown","actRight","left1","left2","left3","right1","right2","right3","select","start","pause","load","save","fast","volUp","volDown","window","ls","getOpt","name","defaultValue","value","options","ip","layout","player","password","debug","locked","hidden","invertL","invertR","disJoyXAxis","disJoyYAxis","dblClickLoadSave","changeKeyOnDrag","vibrate","vibrateJoystick","vibrationFromGame","vgamepad","bgImage","bgOpacity","bgBlur","colorsBackground","colorsColor","colorsBorder","colorsActive","customCSS","customJS","pluginMobile","driveSensitivity","drivePrecision","pingID","$ping","document","querySelector","triedToAuthenticate","pingTime","Date","now","commands","INFO","data","toast","AUTH_FAILED","body","classList","remove","add","prompt","localStorage","setItem","loading","location","reload","pong","id","Number","innerText","String","undefined","socketConnect","ws","WebSocket","err","console","error","closed","setTimeout","socket","addEventListener","send","e","_a","split","cmd","slice","command","join","setInterval","Math","floor","random","concat","lastVibration","pattern","force","time","Array","isArray","reduce","a","c","navigator","Controller","buttons","groups","joysticks","layouts","currentLayout","currentTouches","elements","all","recordingMacro","playingMacro","lastMacro","loadState","layoutEditor","opened","sendCmd","saveState","recordMacro","this","instance","active","playMacro","thisArg","_arguments","P","generator","_i","lastMacro_1","f","y","t","g","_","label","sent","trys","ops","next","verb","Symbol","iterator","n","v","op","TypeError","call","done","pop","length","push","step","__generator","_b","press","readyState","Promise","r","release","resolve","reject","fulfilled","rejected","result","then","apply","fullScreen","documentElement","requestFullscreen","$root","$edit","$bgImage","$deviceInfo","$DIBattery","$DIBatteryIcon","$DIBatteryLevel","$DIClock","$DIPlayerNumber","$DILayout","$controllerIndicator","$layout","$viewport","controllerIndicatorClass","V","toLowerCase","parseInt","keys","custom","map","key","extendStatics","args","arguments","EventEmitter","events","prototype","on","listener","_this","event_1","event_2","off","event_3","idx","indexOf","splice","emit","event_4","forEach","once","_loop_1","event_5","this_1","__extends","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","_super","ElementComponent","details","type","x","anchorX","anchorY","width","height","render","el","element","style","left","right","top","bottom","transform","editing","toObject","__assign","assign","s","i","ButtonComponent","content","customAction","lockable","diagonal","targets","scalable","border","radius","fontSize","$button","createElement","dataset","targets_1","includes","targets_2","borderTop","borderRight","borderBottom","borderLeft","borderRadius","innerHTML","$icon","appendChild","_html","action","Element","JoystickComponent","size","padding","position","up","down","$joystick","nipple","destroy","zone","mode","lockX","lockY","touchEnd","_loop_2","touch","identifier","target","Button","_c","from","changedTouches","elementFromPoint","clientX","clientY","Joystick","parentElement","joystick","oldtouch","_d","updateJoystick","_e","distance","round","cos","angle","radian","sin","isNaN","direction","update","dir","getKeyAndBorder","degree","resizeJoystick","outerHeight","outerWidth","setAttribute","j","GroupComponent","parsedContent","$group","loadDriveMode","drive","driveHTML","ondevicemotion","driveY","driveAngle","lastDirections","land","inverted","accelerationIncludingGravity","parseFloat","toFixed","$steeringWheel","children","SENSITIVITY","PRECISION","getArrowAngle","directions_1","directions","getDirections","pressKeys","filter","unpressKeys","to","pack","ar","l","__spreadArray","startSensor","protocol","hostname","display","getAllElements","object","parseElement","objectID","import","find","importElement","group_1","Group","parent","href","Error","alert","parsedLayout","allElements","loadStateBtn","saveStateBtn","recordMacroBtn","playMacroBtn","loadElementActions","loadLayout","end","backgroundImage","opacity","setProperty","$customCSS","textContent","append","confirm","Function","message","$script","src","onerror","updateBattery","battery","charging","level","roundLevel","updateClock","hours","getHours","toString","padStart","minutes","getMinutes","getBattery","catch","preventDefault","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","every","getter","__esModule","definition","o","defineProperty","enumerable","get","obj","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}