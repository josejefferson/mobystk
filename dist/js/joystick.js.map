{"version":3,"file":"js/joystick.js","mappings":"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","sources":["webpack://joystick/webpack/runtime/chunk loaded","webpack://joystick/./src/js/components/Button.ts","webpack://joystick/./src/js/components/Element.ts","webpack://joystick/./src/js/components/Group.ts","webpack://joystick/./src/js/components/Joystick.ts","webpack://joystick/./src/js/joystick/backend-integration.ts","webpack://joystick/./src/js/joystick/element-actions.ts","webpack://joystick/./src/js/joystick/elements.ts","webpack://joystick/./src/js/joystick/index.ts","webpack://joystick/./src/js/joystick/interactions.ts","webpack://joystick/./src/js/joystick/joystick.ts","webpack://joystick/./src/js/joystick/layout.ts","webpack://joystick/./src/js/joystick/motion-control.ts","webpack://joystick/./src/js/joystick/user-interface.ts","webpack://joystick/./src/js/shared/keymappings.ts","webpack://joystick/./src/js/shared/options.ts","webpack://joystick/./src/js/shared/socket.ts","webpack://joystick/./src/js/utils/event-emitter.ts","webpack://joystick/./src/js/utils/vibrate.ts","webpack://joystick/webpack/bootstrap","webpack://joystick/webpack/runtime/hasOwnProperty shorthand","webpack://joystick/webpack/runtime/jsonp chunk loading","webpack://joystick/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst controller_1 = __importDefault(require(\"../shared/controller\"));\nconst Element_1 = __importDefault(require(\"./Element\"));\nclass ButtonComponent extends Element_1.default {\n    constructor(details) {\n        super(details);\n        this.type = 'mobystk:button';\n        this.content = details.content || { type: 'mobystk:text', value: '' };\n        this.key = details.key || '';\n        this.customAction = details.customAction || false;\n        this.lockable = details.lockable || false;\n        this.diagonal = details.diagonal || false;\n        if (this.diagonal)\n            this.targets = details.targets || [];\n        this.scalable = details.scalable || false;\n        this.border = details.border || [true, true, true, true];\n        this.radius = details.radius || [\n            [0, 'px'],\n            [0, 'px'],\n            [0, 'px'],\n            [0, 'px']\n        ];\n        this.fontSize = details.fontSize || [20, 'px'];\n        this.active = false;\n        this.editing = false;\n        const $button = (document.createElement('button'));\n        $button.classList.add('controller-button');\n        $button.dataset.id = this.id;\n        $button.instance = this;\n        this.element = $button;\n    }\n    press(diagonal = false) {\n        var _a, _b, _c, _d;\n        if (this.diagonal) {\n            const targets = controller_1.default.elements.buttons.filter((e) => this.targets.includes(e.id) && !e.lockable);\n            for (const target of targets)\n                target.press(true);\n        }\n        else {\n            if (!this.active && !this.customAction)\n                this.emit('press', this.key);\n            if (this.scalable && !this.active && !diagonal) {\n                (_a = this.element) === null || _a === void 0 ? void 0 : _a.classList.add('controller-button-scale');\n            }\n            else if (!this.active && diagonal) {\n                (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.add('controller-button-active-diagonal');\n                (_c = this.element) === null || _c === void 0 ? void 0 : _c.classList.add('controller-button-scale-diagonal');\n            }\n            this.active = true;\n            (_d = this.element) === null || _d === void 0 ? void 0 : _d.classList.add('controller-button-active');\n        }\n    }\n    release() {\n        var _a, _b, _c, _d;\n        if (this.diagonal) {\n            const targets = controller_1.default.elements.buttons.filter((e) => this.targets.includes(e.id));\n            for (const target of targets)\n                target.release();\n        }\n        else {\n            if (this.active && !this.customAction)\n                this.emit('release', this.key);\n            this.active = false;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.classList.remove('controller-button-active');\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.remove('controller-button-scale');\n            (_c = this.element) === null || _c === void 0 ? void 0 : _c.classList.remove('controller-button-active-diagonal');\n            (_d = this.element) === null || _d === void 0 ? void 0 : _d.classList.remove('controller-button-scale-diagonal');\n        }\n    }\n    render() {\n        super.render();\n        const el = this.element;\n        if (!el)\n            return;\n        // Aplica os estilos\n        if (!this.border[0])\n            el.style.borderTop = '0';\n        if (!this.border[1])\n            el.style.borderRight = '0';\n        if (!this.border[2])\n            el.style.borderBottom = '0';\n        if (!this.border[3])\n            el.style.borderLeft = '0';\n        const radius = this.radius.map((e) => e.join('')).join(' ');\n        el.style.borderRadius = radius;\n        el.style.fontSize = this.fontSize.join('');\n        // Botões de diagonal e bloqueáveis e editando\n        el.classList[this.diagonal ? 'add' : 'remove']('controller-button-diagonal');\n        el.classList[this.lockable ? 'add' : 'remove']('controller-button-lockable');\n        // Conteúdo do botão\n        el.innerHTML = '';\n        if (this.content.type === 'mobystk:text') {\n            el.innerText = this.content.value;\n        }\n        else if (this.content.type === 'mobystk:icon') {\n            const $icon = document.createElement('i');\n            $icon.classList.add('mdi', 'mdi-' + this.content.value);\n            el.appendChild($icon);\n        }\n        if (this._html) {\n            el.innerHTML = this._html;\n        }\n        // Botão com ação personalizada\n        el.classList[this.customAction ? 'add' : 'remove']('controller-custom-action');\n        el.dataset.action = this.customAction || undefined;\n    }\n    toObject() {\n        return Object.assign(Object.assign({}, super.toObject()), { type: this.type, key: this.key, border: this.border, fontSize: this.fontSize, content: this.content, radius: this.radius, lockable: this.lockable, scalable: this.scalable, customAction: this.customAction, diagonal: this.diagonal, targets: this.targets });\n    }\n}\nexports.default = ButtonComponent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst event_emitter_1 = __importDefault(require(\"../utils/event-emitter\"));\nclass ElementComponent extends event_emitter_1.default {\n    constructor(details) {\n        super();\n        this.type = 'mobystk:unknown';\n        this.id = details.id || 'mobystk:unknown';\n        this.name = details.name || '(Sem nome)';\n        this.x = details.x || [0, 'px'];\n        this.y = details.y || [0, 'px'];\n        this.anchorX = details.anchorX || 0;\n        this.anchorY = details.anchorY || 0;\n        this.width = details.width || [100, 'px'];\n        this.height = details.height || [100, 'px'];\n    }\n    render() {\n        const el = this.element;\n        if (!el)\n            return;\n        // Reseta os estilos\n        el.style.left = '';\n        el.style.right = '';\n        el.style.top = '';\n        el.style.bottom = '';\n        el.style.transform = '';\n        // Aplica os estilos\n        el.style.width = this.width.join('');\n        el.style.height = this.height.join('');\n        if (this.anchorX === 0)\n            el.style.left = this.x.join('');\n        if (this.anchorX === 1)\n            el.style.right = this.x.join('');\n        if (this.anchorY === 0)\n            el.style.top = this.y.join('');\n        if (this.anchorY === 1)\n            el.style.bottom = this.y.join('');\n        el.classList[this.anchorX === 2 ? 'add' : 'remove']('center-x');\n        el.classList[this.anchorY === 2 ? 'add' : 'remove']('center-y');\n        // Editando elemento\n        el.classList[this.editing ? 'add' : 'remove']('controller-editing');\n    }\n    toObject() {\n        return {\n            type: this.type,\n            id: this.id,\n            name: this.name,\n            x: this.x,\n            y: this.y,\n            anchorX: this.anchorX,\n            anchorY: this.anchorY,\n            width: this.width,\n            height: this.height\n        };\n    }\n}\nexports.default = ElementComponent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Element_1 = __importDefault(require(\"./Element\"));\nclass GroupComponent extends Element_1.default {\n    constructor(details) {\n        super(details);\n        this.type = 'mobystk:group';\n        this.content = details.content || [];\n        this.parsedContent = details.parsedContent || [];\n        const $group = document.createElement('div');\n        $group.classList.add('controller-group');\n        $group.dataset.id = this.id;\n        $group.instance = this;\n        this.element = $group;\n        for (const element of this.parsedContent) {\n            $group.appendChild(element.element);\n            element.render();\n        }\n    }\n    toObject() {\n        return Object.assign(Object.assign({}, super.toObject()), { type: this.type, content: this.content });\n    }\n}\nexports.default = GroupComponent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst nipplejs_1 = __importDefault(require(\"nipplejs\"));\nconst options_1 = __importDefault(require(\"../shared/options\"));\nconst Element_1 = __importDefault(require(\"./Element\"));\nclass JoystickComponent extends Element_1.default {\n    constructor(details) {\n        super(details);\n        this.type = 'mobystk:joystick';\n        this.size = details.size || [90, 'px'];\n        this.padding = details.padding || 60;\n        this.keys = details.keys || ['joyLUp', 'joyLLeft', 'joyLDown', 'joyLRight'];\n        this.position = { up: false, down: false, left: false, right: false };\n        const $joystick = document.createElement('div');\n        $joystick.classList.add('controller-joystick');\n        $joystick.dataset.id = this.id;\n        $joystick.instance = this;\n        this.element = $joystick;\n    }\n    render() {\n        this.width = [this.size[0] + this.padding, this.size[1]];\n        this.height = [this.size[0] + this.padding, this.size[1]];\n        super.render();\n        const el = this.element;\n        // Reseta a posição\n        this.position = { up: false, down: false, left: false, right: false };\n        // NippleJS\n        if (this.nipple)\n            this.nipple.destroy();\n        this.nipple = nipplejs_1.default.create({\n            zone: el,\n            size: this.size[0],\n            mode: 'static',\n            position: {\n                left: '50%',\n                top: '50%'\n            },\n            lockX: options_1.default.disJoyYAxis,\n            lockY: options_1.default.disJoyXAxis\n        });\n        // Eventos\n        this.nipple.on('move', (e, d) => this.emit('move', this, e, d));\n        this.nipple.on('end', (e, d) => this.emit('end', this, e, d));\n    }\n    toObject() {\n        return Object.assign(Object.assign({}, super.toObject()), { type: this.type, size: this.size, padding: this.padding, keys: this.keys });\n    }\n}\nexports.default = JoystickComponent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendCmd = void 0;\nconst keymappings_1 = __importDefault(require(\"../shared/keymappings\"));\nconst options_1 = __importDefault(require(\"../shared/options\"));\nconst socket_1 = require(\"../shared/socket\");\nconst vibrate_1 = __importDefault(require(\"../utils/vibrate\"));\nconst element_actions_1 = require(\"./element-actions\");\nconst elements_1 = require(\"./elements\");\nconst controllerIndicatorClass = options_1.default.vgamepad ? 'mdi-google-controller' : 'mdi-keyboard';\nelements_1.$controllerIndicator.classList.add(controllerIndicatorClass);\nsocket_1.commands.V = (data) => {\n    const [value] = data.toLowerCase().split(' ');\n    if (options_1.default.vibrationFromGame) {\n        const n = parseInt(value.split('|')[0]);\n        (0, vibrate_1.default)(n ? 3000 : 0, true);\n        elements_1.$controllerIndicator.classList[n ? 'remove' : 'add'](controllerIndicatorClass);\n        elements_1.$controllerIndicator.classList[n ? 'add' : 'remove']('mdi-vibrate');\n    }\n};\n/**\n * Envia comandos para o servidor\n * @param keys Tecla(s) que será(ão) pressionada(s) de acordo com o KeyMapping\n * @param release Boolean indicando se a tecla está sendo solta\n * @param custom Comando personalizado para enviar ao servidor\n */\nfunction _sendCmd(keys, release = false, custom) {\n    if (!keys || !keys.length)\n        return;\n    if (typeof keys === 'string')\n        keys = [keys];\n    // Mapeia as teclas\n    if (!custom)\n        keys = keys.map((key) => {\n            var _a, _b;\n            if (options_1.default.vgamepad)\n                return (_a = keymappings_1.default[key]) === null || _a === void 0 ? void 0 : _a[4];\n            else\n                return (_b = keymappings_1.default[key]) === null || _b === void 0 ? void 0 : _b[options_1.default.player];\n        });\n    // Salva no macro ao invés de enviar para o servidor\n    if (element_actions_1.recordingMacro && custom)\n        return element_actions_1.lastMacro.push(`${custom} ${keys} ${options_1.default.player}`);\n    if (element_actions_1.recordingMacro)\n        return element_actions_1.lastMacro.push(`${release ? 'R' : 'P'} ${keys} ${options_1.default.player}`);\n    // Se não tiver conectado, não faz nada\n    if (!socket_1.socket || socket_1.socket.readyState !== 1)\n        return;\n    // Envia o comando para o servidor\n    if (custom)\n        socket_1.socket.send(`${custom} ${keys} ${options_1.default.player}`);\n    else\n        socket_1.socket.send(`${release ? 'R' : 'P'} ${keys} ${options_1.default.player}`);\n}\nwindow.sendCmd = _sendCmd;\nconst sendCmd = (...args) => {\n    return window.sendCmd(...args);\n};\nexports.sendCmd = sendCmd;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lastMacro = exports.playingMacro = exports.recordingMacro = void 0;\nconst controller_1 = __importDefault(require(\"../shared/controller\"));\nconst vibrate_1 = __importDefault(require(\"../utils/vibrate\"));\nconst backend_integration_1 = require(\"./backend-integration\");\nconst socket_1 = require(\"../shared/socket\");\nconst options_1 = __importDefault(require(\"../shared/options\"));\nexports.recordingMacro = false;\nexports.playingMacro = false;\nexports.lastMacro = [];\n/** Carrega o estado do jogo */\nfunction loadState() {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    (0, backend_integration_1.sendCmd)('load');\n    (0, backend_integration_1.sendCmd)('load', true);\n    (0, vibrate_1.default)(options_1.default.vibrate * 3);\n}\n/** Salva o estado do jogo */\nfunction saveState() {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    (0, backend_integration_1.sendCmd)('save');\n    (0, backend_integration_1.sendCmd)('save', true);\n    (0, vibrate_1.default)(options_1.default.vibrate * 3);\n}\n/** Inicia/para a gravação de uma macro */\nfunction recordMacro() {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    if (exports.playingMacro)\n        return;\n    if (this.instance)\n        this.instance[this.instance.active ? 'release' : 'press']();\n    if (!exports.recordingMacro)\n        exports.lastMacro = [];\n    exports.recordingMacro = !exports.recordingMacro;\n    window.recordingMacro = exports.recordingMacro;\n    window.lastMacro = exports.lastMacro;\n}\n/** Executa a macro gravada */\nfunction playMacro() {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n            return;\n        if (exports.recordingMacro)\n            return;\n        exports.playingMacro = !exports.playingMacro;\n        window.playingMacro = exports.playingMacro;\n        if (this.instance)\n            this.instance.press();\n        for (const command of exports.lastMacro) {\n            if (!exports.playingMacro)\n                break;\n            // TODO: toast desconectado\n            if ((socket_1.socket === null || socket_1.socket === void 0 ? void 0 : socket_1.socket.readyState) !== 1)\n                break;\n            socket_1.socket === null || socket_1.socket === void 0 ? void 0 : socket_1.socket.send(command);\n            yield new Promise((r) => setTimeout(r, 50));\n        }\n        if (this.instance)\n            this.instance.release();\n        exports.playingMacro = false;\n        window.playingMacro = exports.playingMacro;\n    });\n}\n/** Entra em tela cheia */\nfunction fullScreen() {\n    document.documentElement.requestFullscreen();\n}\nfunction loadElementActions() {\n    // CARREGAR E SALVAR\n    const loadStateBtn = controller_1.default.elements.buttons.find((e) => e.customAction === 'load-state');\n    if (loadStateBtn)\n        loadStateBtn.element.addEventListener(options_1.default.dblClickLoadSave ? 'dblclick' : 'click', loadState);\n    const saveStateBtn = controller_1.default.elements.buttons.find((e) => e.customAction === 'save-state');\n    if (saveStateBtn)\n        saveStateBtn.element.addEventListener(options_1.default.dblClickLoadSave ? 'dblclick' : 'click', saveState);\n    // MACROS\n    exports.recordingMacro = false;\n    exports.playingMacro = false;\n    exports.lastMacro = [];\n    window.recordingMacro = exports.recordingMacro;\n    window.playingMacro = exports.playingMacro;\n    window.lastMacro = exports.lastMacro;\n    // Iniciar/parar gravação da macro\n    const recordMacroBtn = controller_1.default.elements.buttons.find((e) => e.customAction === 'macro-record');\n    if (recordMacroBtn)\n        recordMacroBtn.element.addEventListener('click', recordMacro);\n    // Executar macro\n    const playMacroBtn = controller_1.default.elements.buttons.find((e) => e.customAction === 'macro-play');\n    if (playMacroBtn)\n        playMacroBtn.element.addEventListener('click', playMacro);\n    // TELA CHEIA\n    document.querySelector('.deviceInfo').addEventListener('dblclick', fullScreen);\n}\nexports.default = loadElementActions;\nwindow.playingMacro = exports.playingMacro;\nwindow.recordingMacro = exports.recordingMacro;\nwindow.lastMacro = exports.lastMacro;\nwindow.loadState = loadState;\nwindow.saveState = saveState;\nwindow.recordMacro = recordMacro;\nwindow.playMacro = playMacro;\nwindow.fullScreen = fullScreen;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$viewport = exports.$layout = exports.$controllerIndicator = exports.$ping = exports.$DIStatus = exports.$DILayout = exports.$DIPlayerNumber = exports.$DIClock = exports.$DIBatteryLevel = exports.$DIBatteryIcon = exports.$DIBattery = exports.$deviceInfo = exports.$bgImage = exports.$edit = exports.$root = void 0;\nexports.$root = document.documentElement;\nexports.$edit = document.querySelector('.edit');\nexports.$bgImage = document.querySelector('.backgroundImage');\nexports.$deviceInfo = document.querySelector('.deviceInfo');\nexports.$DIBattery = exports.$deviceInfo.querySelector('.battery');\nexports.$DIBatteryIcon = exports.$DIBattery.querySelector('.battery-icon');\nexports.$DIBatteryLevel = exports.$DIBattery.querySelector('.battery-level');\nexports.$DIClock = exports.$deviceInfo.querySelector('.clock');\nexports.$DIPlayerNumber = exports.$deviceInfo.querySelector('.player .player-number');\nexports.$DILayout = exports.$deviceInfo.querySelector('.layout');\nexports.$DIStatus = exports.$deviceInfo.querySelector('.status');\nexports.$ping = document.querySelector('.ping');\nexports.$controllerIndicator = document.querySelector('.controller-indicator');\nexports.$layout = document.querySelector('.controller-layout');\nexports.$viewport = document.querySelector('meta[name=\"viewport\"]');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./backend-integration\");\nrequire(\"./element-actions\");\nrequire(\"./interactions\");\nrequire(\"./joystick\");\nrequire(\"./layout\");\nrequire(\"./motion-control\");\nrequire(\"./user-interface\");\n// import './layout-editor'\ndocument.addEventListener('contextmenu', (e) => e.preventDefault());\nwindow.addEventListener('load', () => {\n    document.body.classList.remove('preload');\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Button_1 = __importDefault(require(\"../components/Button\"));\nconst controller_1 = __importDefault(require(\"../shared/controller\"));\nconst Joystick_1 = __importDefault(require(\"../components/Joystick\"));\nconst vibrate_1 = __importDefault(require(\"../utils/vibrate\"));\nconst options_1 = __importDefault(require(\"../shared/options\"));\ndocument.addEventListener('touchstart', touchStart);\ndocument.addEventListener('touchmove', touchMove);\ndocument.addEventListener('touchend', touchEnd);\ndocument.addEventListener('touchcancel', touchEnd);\n/**\n * Início do toque\n */\nfunction touchStart(e) {\n    var _a;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    for (const touch of Array.from(e.changedTouches)) {\n        let target = document.elementFromPoint(touch.clientX, touch.clientY);\n        while (target !== null &&\n            !((target.instance instanceof Button_1.default && !target.instance.customAction) ||\n                target.instance instanceof Joystick_1.default)) {\n            target = target.parentElement;\n        }\n        if (target === null || target === void 0 ? void 0 : target.instance.lockable) {\n            (0, vibrate_1.default)(options_1.default.vibrate);\n            if (target.instance.active)\n                target.instance.release();\n            else\n                target.instance.press();\n            continue;\n        }\n        const joystick = (target === null || target === void 0 ? void 0 : target.instance) instanceof Joystick_1.default;\n        controller_1.default.currentTouches.push({ target, touch, joystick });\n        if (!target)\n            continue;\n        (0, vibrate_1.default)(options_1.default.vibrate);\n        if (joystick)\n            continue;\n        target.instance.press();\n    }\n}\n/**\n * Movimento do toque\n */\nfunction touchMove(e) {\n    var _a, _b, _c;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    for (const touch of Array.from(e.changedTouches)) {\n        const i = controller_1.default.currentTouches.findIndex((t) => {\n            return t.touch.identifier === touch.identifier;\n        });\n        if (i < 0)\n            continue;\n        const oldtouch = controller_1.default.currentTouches[i];\n        if (oldtouch.joystick)\n            continue;\n        if (!options_1.default.changeKeyOnDrag && oldtouch.target)\n            continue;\n        oldtouch.touch = touch;\n        let target = document.elementFromPoint(touch.clientX, touch.clientY);\n        // todo: colocar lockable aqui\n        while (target !== null &&\n            !(target.instance instanceof Button_1.default &&\n                !target.instance.customAction &&\n                !target.instance.lockable)) {\n            target = target.parentElement;\n        }\n        if (oldtouch.target === target)\n            continue;\n        (_b = oldtouch.target) === null || _b === void 0 ? void 0 : _b.instance.release();\n        if (!target || ((_c = target.instance) === null || _c === void 0 ? void 0 : _c.active))\n            target = null;\n        oldtouch.target = target;\n        if (!target)\n            continue;\n        target.instance.press();\n        (0, vibrate_1.default)(options_1.default.vibrate);\n    }\n}\n/**\n * Fim do toque\n */\nfunction touchEnd(e) {\n    var _a, _b;\n    if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n        return;\n    for (const touch of Array.from(e.changedTouches)) {\n        const i = controller_1.default.currentTouches.findIndex((t) => {\n            return t.touch.identifier === touch.identifier;\n        });\n        if (i < 0)\n            continue;\n        if (((_b = controller_1.default.currentTouches[i].target) === null || _b === void 0 ? void 0 : _b.instance) instanceof\n            Button_1.default) {\n            ;\n            controller_1.default.currentTouches[i].target.instance.release();\n        }\n        controller_1.default.currentTouches.splice(i, 1);\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resizeJoystick = void 0;\nconst controller_1 = __importDefault(require(\"../shared/controller\"));\nconst vibrate_1 = __importDefault(require(\"../utils/vibrate\"));\nconst backend_integration_1 = require(\"./backend-integration\");\nconst elements_1 = require(\"./elements\");\nconst options_1 = __importDefault(require(\"../shared/options\"));\nconst joysticks = ['mobystk:joystick_left', 'mobystk:joystick_right'];\n/**\n * Atualiza os dados dos joysticks e pressiona as teclas do computador\n */\nfunction updateJoystick(target, _e, d) {\n    var _a, _b;\n    (0, vibrate_1.default)((options_1.default.vibrateJoystick * (d === null || d === void 0 ? void 0 : d.distance)) / 45);\n    // Se estiver usando o vgamepad\n    if (options_1.default.vgamepad && joysticks.includes(target.id)) {\n        let x = Math.round(-32768 + (65534 / 90) * (45 + (d === null || d === void 0 ? void 0 : d.distance) * Math.cos((_a = d === null || d === void 0 ? void 0 : d.angle) === null || _a === void 0 ? void 0 : _a.radian)));\n        let y = Math.round(-32768 + (65534 / 90) * (45 + (d === null || d === void 0 ? void 0 : d.distance) * Math.sin((_b = d === null || d === void 0 ? void 0 : d.angle) === null || _b === void 0 ? void 0 : _b.radian)));\n        if (isNaN(x) || isNaN(y))\n            x = y = 0;\n        if (target.id === 'mobystk:joystick_left')\n            (0, backend_integration_1.sendCmd)(`${x}|${y}`, false, 'VJL');\n        if (target.id === 'mobystk:joystick_right')\n            (0, backend_integration_1.sendCmd)(`${x}|${y}`, false, 'VJR');\n    }\n    // Se o joystick estiver em repouso, desapertar teclas\n    if (!(d === null || d === void 0 ? void 0 : d.direction)) {\n        update('up', false);\n        update('left', false);\n        update('down', false);\n        update('right', false);\n        return;\n    }\n    // Define as teclas de acordo com a posição\n    if (!options_1.default.disJoyYAxis)\n        update('up', (d === null || d === void 0 ? void 0 : d.angle.degree) > 22.5 && (d === null || d === void 0 ? void 0 : d.angle.degree) < 157.5);\n    if (!options_1.default.disJoyXAxis)\n        update('left', (d === null || d === void 0 ? void 0 : d.angle.degree) > 112.5 && (d === null || d === void 0 ? void 0 : d.angle.degree) < 247.5);\n    if (!options_1.default.disJoyYAxis)\n        update('down', (d === null || d === void 0 ? void 0 : d.angle.degree) > 202.5 && (d === null || d === void 0 ? void 0 : d.angle.degree) < 337.5);\n    if (!options_1.default.disJoyXAxis)\n        update('right', (d === null || d === void 0 ? void 0 : d.angle.degree) > 292.5 || (d === null || d === void 0 ? void 0 : d.angle.degree) < 67.5);\n    /**\n     * Pressiona as teclas\n     */\n    function update(dir, value) {\n        const { key, border } = getKeyAndBorder(target.keys, dir);\n        // Efeito da borda\n        const $back = target.element.querySelector('.back');\n        $back.style[`border${border}Width`] = value ? '7px' : '';\n        if (!(options_1.default.vgamepad && joysticks.includes(target.id))) {\n            if (target.position[dir] === value)\n                return;\n            (0, backend_integration_1.sendCmd)([key], !value);\n        }\n        target.position[dir] = value;\n    }\n}\nexports.default = updateJoystick;\n/**\n * Retorna a tecla que será pressionada e a borda\n */\nfunction getKeyAndBorder(keys, dir) {\n    const keysAndBorders = {\n        up: [keys[0], 'Top'],\n        left: [keys[1], 'Left'],\n        down: [keys[2], 'Bottom'],\n        right: [keys[3], 'Right']\n    };\n    const [key, border] = keysAndBorders[dir];\n    return { key, border };\n}\n/**\n * Reinicia os joysticks para evitar bugs\n */\nfunction resizeJoystick() {\n    // Ajusta os tamanhos do controle\n    let width;\n    if (window.outerHeight > window.outerWidth / 1.7777777777777777)\n        width = 640;\n    else\n        width = (window.outerWidth / window.outerHeight) * 360;\n    elements_1.$viewport.setAttribute('content', `width=${width}, user-scalable=0`);\n    // Reconstrói os joysticks\n    controller_1.default.currentTouches = controller_1.default.currentTouches.filter((el) => !el.joystick);\n    const joysticks = controller_1.default.elements.joysticks;\n    joysticks.forEach((j) => j.render());\n}\nexports.resizeJoystick = resizeJoystick;\nwindow.addEventListener('load', resizeJoystick);\nwindow.addEventListener('resize', resizeJoystick);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.importElement = exports.parseElement = exports.getAllElements = exports.loadLayout = void 0;\nconst Button_1 = __importDefault(require(\"../components/Button\"));\nconst Group_1 = __importDefault(require(\"../components/Group\"));\nconst Joystick_1 = __importDefault(require(\"../components/Joystick\"));\nconst controller_1 = __importDefault(require(\"../shared/controller\"));\nconst backend_integration_1 = require(\"./backend-integration\");\nconst element_actions_1 = __importDefault(require(\"./element-actions\"));\nconst elements_1 = require(\"./elements\");\nconst joystick_1 = __importDefault(require(\"./joystick\"));\nconst motion_control_1 = __importDefault(require(\"./motion-control\"));\nconst options_1 = __importDefault(require(\"../shared/options\"));\n/**\n * Carrega o layout\n */\nfunction loadLayout(layout) {\n    const parsedLayout = Object.assign(Object.assign({}, layout), { parsedContent: layout.content.map(parseElement).filter((e) => !!e) });\n    const allElements = getAllElements(parsedLayout);\n    elements_1.$layout.innerHTML = '';\n    for (const object of parsedLayout.parsedContent) {\n        if (!object)\n            continue;\n        elements_1.$layout.appendChild(object.element);\n        object.render();\n    }\n    controller_1.default.currentLayout = parsedLayout;\n    controller_1.default.elements.all = allElements;\n    controller_1.default.elements.buttons = allElements.filter((e) => e instanceof Button_1.default);\n    controller_1.default.elements.groups = allElements.filter((e) => e instanceof Group_1.default);\n    controller_1.default.elements.joysticks = allElements.filter((e) => e instanceof Joystick_1.default);\n    elements_1.$DILayout.innerText = layout.name || '???';\n    (0, element_actions_1.default)();\n    (0, motion_control_1.default)();\n    return layout;\n}\nexports.loadLayout = loadLayout;\n/**\n * Retorna todos os elementos (botões, grupos e joysticks) de um objeto\n */\nfunction getAllElements(object, elements = []) {\n    if (object.type === 'mobystk:layout' || object.type === 'mobystk:group') {\n        object = object;\n        if (object.type !== 'mobystk:layout')\n            elements.push(object);\n        for (const obj of object.parsedContent)\n            getAllElements(obj, elements);\n    }\n    else {\n        elements.push(object);\n    }\n    return elements;\n}\nexports.getAllElements = getAllElements;\n/**\n * Converte os elementos de JSON para objetos\n */\nfunction parseElement(object) {\n    var _a, _b;\n    const objectID = 'import' in object ? object.import : object.id;\n    // Remove os itens ocultos\n    if ((_a = options_1.default.hidden) === null || _a === void 0 ? void 0 : _a.includes(objectID))\n        return;\n    // Importa os elementos\n    if ('import' in object)\n        object = importElement(object);\n    // Descarta os objetos inválidos\n    if (!object)\n        return;\n    if (object.type === 'mobystk:button') {\n        // Botão\n        object = object;\n        if ((_b = options_1.default.locked) === null || _b === void 0 ? void 0 : _b.includes(objectID))\n            object = Object.assign(Object.assign({}, object), { lockable: true });\n        return new Button_1.default(object);\n    }\n    else if (object.type === 'mobystk:group') {\n        // Grupo\n        object = object;\n        object.parsedContent = object.content\n            .map(parseElement)\n            .filter((e) => e);\n        const group = new Group_1.default(object);\n        object.parsedContent = object.parsedContent.map((e) => (e.parent = group));\n        return group;\n    }\n    else if (object.type === 'mobystk:joystick') {\n        // Joystick\n        object = object;\n        return new Joystick_1.default(object);\n    }\n}\nexports.parseElement = parseElement;\n/**\n * Reutiliza um elemento\n */\nfunction importElement(object) {\n    const allElements = [...controller_1.default.buttons, ...controller_1.default.groups, ...controller_1.default.joysticks];\n    const element = allElements.find((e) => e.id === object.import);\n    if (element)\n        return Object.assign(Object.assign({}, element), object);\n}\nexports.importElement = importElement;\n// Carrega o layout selecionado\nif (!options_1.default.layout) {\n    window.location.href = 'index.html';\n    throw new Error('Layout não selecionado');\n}\nconst layout = controller_1.default.layouts.find((l) => l.id === options_1.default.layout);\nif (!layout) {\n    alert('Layout não encontrado!');\n    window.location.href = 'index.html';\n    throw new Error('Layout não encontrado');\n}\nloadLayout(layout);\n// Configura os eventos dos elementos\nfor (const element of controller_1.default.elements.all) {\n    if (element instanceof Button_1.default) {\n        element.on('press', (key) => (0, backend_integration_1.sendCmd)(key, false));\n        element.on('release', (key) => (0, backend_integration_1.sendCmd)(key, true));\n    }\n    else if (element instanceof Joystick_1.default) {\n        element.on('move end', joystick_1.default);\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst controller_1 = __importDefault(require(\"../shared/controller\"));\nconst vibrate_1 = __importDefault(require(\"../utils/vibrate\"));\nconst backend_integration_1 = require(\"./backend-integration\");\nconst options_1 = __importDefault(require(\"../shared/options\"));\nconst defaultDriveHTML = `\r\n\t<svg viewBox=\"0 0 32 32\">\r\n\t\t<path d=\"M16 0a16 16 0 100 32 16 16 0 000-32zm0 4a12 12 0 0111.3 8H4.7c1.7-4.6 6-8 11.3-8zm0 14a2 2 0 110-4 2 2 0 010 4zM4 16c5.5 0 9.9 5.3 10 11.8A12 12 0 014 16zm14 11.8c.1-6.5 4.5-11.8 10-11.8a12 12 0 01-10 11.8z\"></path>\r\n\t</svg>`;\nfunction loadDriveMode() {\n    const drive = controller_1.default.elements.buttons.find((e) => e.customAction === 'drive');\n    const driveHTML = drive ? (drive._html = defaultDriveHTML) : '';\n    drive === null || drive === void 0 ? void 0 : drive.render();\n    if (drive)\n        drive.element.addEventListener('touchstart', toggleDriveMode);\n    // Desativa o ícone de volante, caso não esteja em HTTPS\n    if (!isHTTPS() && drive && drive.element)\n        drive.element.style.display = 'none';\n    /**\n     * Liga/desliga o sensor\n     */\n    function toggleDriveMode() {\n        var _a;\n        if ((_a = window.layoutEditor) === null || _a === void 0 ? void 0 : _a.opened)\n            return;\n        // Inicia/para o sensor\n        drive.active ? stopSensor() : startSensor();\n        /**\n         * Inicia o sensor\n         */\n        function startSensor() {\n            drive.press();\n            drive.element.innerHTML = '<i class=\"driveArrow mdi mdi-arrow-up\"></i>';\n            let driveY = 0;\n            let driveAngle = 0;\n            let lastDirections = [];\n            // Detecta os movimentos\n            window.ondevicemotion = (e) => {\n                const land = window.outerWidth > window.outerHeight;\n                const inverted = e.accelerationIncludingGravity[land ? 'x' : 'y'] >= 0 ? 1 : -1;\n                driveY = parseFloat(e.accelerationIncludingGravity[land ? 'y' : 'x'].toFixed(1));\n                driveY *= inverted * (land ? 1 : -1);\n                const $steeringWheel = drive.element.children[0];\n                if (!options_1.default.vgamepad) {\n                    // Define a direção (ângulo)\n                    const angle = getArrowAngle(driveAngle, driveY, options_1.default.driveSensitivity, options_1.default.drivePrecision);\n                    if (angle === driveAngle)\n                        return;\n                    $steeringWheel.style.transform = `rotate(${angle}deg)`;\n                    driveAngle = angle;\n                    (0, vibrate_1.default)(options_1.default.vibrate * 2);\n                    // Pressiona as teclas\n                    const directions = getDirections(angle);\n                    const pressKeys = directions.filter((e) => !lastDirections.includes(e));\n                    const unpressKeys = lastDirections.filter((e) => !directions.includes(e));\n                    (0, backend_integration_1.sendCmd)(pressKeys);\n                    (0, backend_integration_1.sendCmd)(unpressKeys, true);\n                    lastDirections = [...directions];\n                }\n                else {\n                    // Usando VGamepad\n                    let x = Math.round((32767 / options_1.default.driveSensitivity) * driveY);\n                    if (x < 10923 * options_1.default.drivePrecision && x > -10923 * options_1.default.drivePrecision)\n                        x = 0;\n                    if (x > 32767)\n                        x = 32767;\n                    if (x < -32767)\n                        x = -32767;\n                    const angle = (90 * x) / 32767;\n                    $steeringWheel.style.transform = `rotate(${angle}deg)`;\n                    (0, backend_integration_1.sendCmd)(`${x}|0`, false, 'VJL');\n                }\n            };\n        }\n        /**\n         * Para o sensor\n         */\n        function stopSensor() {\n            drive.release();\n            drive.element.innerHTML = driveHTML;\n            window.ondevicemotion = null;\n            if (!options_1.default.vgamepad) {\n                (0, backend_integration_1.sendCmd)('joyLUp', true);\n                (0, backend_integration_1.sendCmd)('joyLLeft', true);\n                (0, backend_integration_1.sendCmd)('joyLRight', true);\n            }\n            else {\n                (0, backend_integration_1.sendCmd)('0|0', false, 'VJL');\n            }\n        }\n    }\n}\nexports.default = loadDriveMode;\n/**\n * Retorna true se o site estiver em HTTPS\n */\nfunction isHTTPS() {\n    return (location.protocol === 'https:' ||\n        location.hostname === 'localhost' ||\n        location.hostname === '127.0.0.1');\n}\n/**\n * Retorna o ângulo em graus da rotação do celular\n */\nfunction getArrowAngle(driveAngle, driveY, SENSITIVITY, PRECISION) {\n    let angle = 0;\n    if (driveAngle === -45) {\n        if (driveY > SENSITIVITY)\n            angle = 45;\n        if (driveY < -SENSITIVITY + PRECISION)\n            angle = -45;\n        if (driveY > SENSITIVITY * 2)\n            angle *= 2;\n        if (driveY < -SENSITIVITY * 2 - PRECISION)\n            angle *= 2;\n    }\n    else if (driveAngle === 45) {\n        if (driveY > SENSITIVITY - PRECISION)\n            angle = 45;\n        if (driveY < -SENSITIVITY)\n            angle = -45;\n        if (driveY > SENSITIVITY * 2 + PRECISION)\n            angle *= 2;\n        if (driveY < -SENSITIVITY * 2)\n            angle *= 2;\n    }\n    else {\n        if (driveY > SENSITIVITY)\n            angle = 45;\n        if (driveY < -SENSITIVITY)\n            angle = -45;\n        if (driveY > SENSITIVITY * 2)\n            angle *= 2;\n        if (driveY < -SENSITIVITY * 2)\n            angle *= 2;\n    }\n    return angle;\n}\n/**\n * Retorna as teclas que devem estar pressionadas no ângulo atual\n */\nfunction getDirections(angle) {\n    let directions;\n    switch (angle) {\n        case -90:\n            directions = ['joyLLeft'];\n            break;\n        case -45:\n            directions = ['joyLUp', 'joyLLeft'];\n            break;\n        case 45:\n            directions = ['joyLUp', 'joyLRight'];\n            break;\n        case 90:\n            directions = ['joyLRight'];\n            break;\n        default:\n            directions = ['joyLUp'];\n    }\n    return directions;\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst loading_1 = __importDefault(require(\"../utils/loading\"));\nconst elements_1 = require(\"./elements\");\nconst options_1 = __importDefault(require(\"../shared/options\"));\nconst toast_1 = require(\"../utils/toast\");\n// ELEMENTOS\nif (options_1.default.hidden.includes('mobystk:deviceInfo')) {\n    elements_1.$deviceInfo.classList.add('hidden');\n}\nif (options_1.default.hidden.includes('mobystk:ping')) {\n    elements_1.$ping.classList.add('hidden');\n}\n// CARREGAMENTO DAS OPÇÕES\nelements_1.$edit.addEventListener('click', loading_1.default);\nelements_1.$edit.addEventListener('contextmenu', () => {\n    window.layoutEditor.opened ? window.layoutEditor.end() : window.layoutEditor.start();\n});\nif (!options_1.default.layout)\n    location.href = 'index.html';\nif (options_1.default.debug)\n    document.body.classList.add('debug');\nif (options_1.default.invertL)\n    document.body.classList.add('invertL');\nif (options_1.default.invertR)\n    document.body.classList.add('invertR');\nif (options_1.default.bgImage)\n    elements_1.$bgImage.style.backgroundImage = `url('${options_1.default.bgImage}')`;\nif (options_1.default.bgOpacity)\n    elements_1.$bgImage.style.opacity = String(options_1.default.bgOpacity);\nif (options_1.default.bgBlur)\n    elements_1.$bgImage.style.filter = `blur(${options_1.default.bgBlur}px)`;\nif (options_1.default.colorsBackground)\n    elements_1.$root.style.setProperty('--background', options_1.default.colorsBackground);\nif (options_1.default.colorsColor)\n    elements_1.$root.style.setProperty('--color', options_1.default.colorsColor);\nif (options_1.default.colorsBorder)\n    elements_1.$root.style.setProperty('--border', options_1.default.colorsBorder);\nif (options_1.default.colorsActive)\n    elements_1.$root.style.setProperty('--active', options_1.default.colorsActive);\n// CSS PERSONALIZADO\nconst $customCSS = document.createElement('style');\n$customCSS.textContent = options_1.default.customCSS;\ndocument.body.append($customCSS);\n// JS PERSONALIZADO\nif (options_1.default.customJS && options_1.default.customJS.trim()) {\n    if (confirm('Deseja executar os plugins?')) {\n        try {\n            new Function(options_1.default.customJS.trim())();\n        }\n        catch (err) {\n            alert('Ocorreu um erro ao executar os plugins\\n\\n' + ((err === null || err === void 0 ? void 0 : err.message) || ''));\n        }\n    }\n}\n// PLUGIN MOBYSTK MOBILE\nif (options_1.default.pluginMobile) {\n    const $script = document.createElement('script');\n    $script.src = 'lib/plugins/mobile.js';\n    $script.onerror = () => (0, toast_1.toast)('Erro ao carregar plugin MobyStk Mobile');\n    document.body.appendChild($script);\n}\n// INFORMAÇÕES - BATERIA\n(_b = (_a = navigator\n    .getBattery) === null || _a === void 0 ? void 0 : _a.call(navigator)) === null || _b === void 0 ? void 0 : _b.then((battery) => {\n    updateBattery(battery);\n    battery.addEventListener('chargingchange', (e) => updateBattery(e.target));\n    battery.addEventListener('levelchange', (e) => updateBattery(e.target));\n}).catch(console.error);\n// Atualiza o ícone e porcentagem da bateria\nfunction updateBattery(battery) {\n    elements_1.$DIBatteryIcon.classList.remove(...Array.from(elements_1.$DIBatteryIcon.classList));\n    elements_1.$DIBatteryIcon.classList.add('mdi');\n    const charging = battery.charging;\n    const level = battery.level * 100;\n    const roundLevel = Math.round(level / 10) * 10;\n    elements_1.$DIBatteryLevel.innerText = Math.round(level) + '% •';\n    if (roundLevel === 0) {\n        elements_1.$DIBatteryIcon.classList.add('mdi-battery-outline');\n    }\n    else if (roundLevel === 100) {\n        elements_1.$DIBatteryIcon.classList.add('mdi-battery' + (charging ? '-charging-100' : ''));\n    }\n    else {\n        elements_1.$DIBatteryIcon.classList.add('mdi-battery-' + (charging ? 'charging-' : '') + roundLevel);\n    }\n}\n// INFORMAÇÕES - RELÓGIO\nwindow.setInterval(updateClock, 1000);\nupdateClock();\n// Atualiza as horas do relógio\nfunction updateClock() {\n    const hours = new Date().getHours().toString().padStart(2, '0');\n    const minutes = new Date().getMinutes().toString().padStart(2, '0');\n    elements_1.$DIClock.innerText = hours + ':' + minutes;\n}\n// INFORMAÇÕES - Nº JOGADOR E NOME DO LAYOUT\nelements_1.$DIPlayerNumber.innerText = String(options_1.default.player + 1);\n// ATUALIZA O JOGADOR DO CONTROLE NO MODO DEBUG\nif (options_1.default.debug)\n    elements_1.$deviceInfo.addEventListener('click', () => {\n        options_1.default.player += 1;\n        if (options_1.default.player > 3)\n            options_1.default.player = 0;\n        elements_1.$DIPlayerNumber.innerText = String(options_1.default.player + 1);\n    });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Mapas de teclas\n * [Player1, Player2, Player3, Player4, VGamepad]\n */\nconst keymappings = {\n    joyLUp: ['W', 'T', '058', '195'],\n    joyLLeft: ['A', 'F', '063', '196'],\n    joyLDown: ['S', 'G', '096', '197'],\n    joyLRight: ['D', 'H', '097', '198'],\n    joyRUp: ['5', '9', '098', '199'],\n    joyRLeft: ['6', '0', '099', '200'],\n    joyRDown: ['7', '[', '100', '201'],\n    joyRRight: ['8', ']', '101', '202'],\n    padUp: ['UP', 'Z', '102', '203', 'XUSB_GAMEPAD_DPAD_UP'],\n    padLeft: ['LEFT', 'X', '103', '204', 'XUSB_GAMEPAD_DPAD_LEFT'],\n    padDown: ['DOWN', 'C', '104', '205', 'XUSB_GAMEPAD_DPAD_DOWN'],\n    padRight: ['RIGHT', 'V', '105', '206', 'XUSB_GAMEPAD_DPAD_RIGHT'],\n    actUp: ['I', 'B', '106', '207', 'XUSB_GAMEPAD_Y'],\n    actLeft: ['J', 'N', '107', '208', 'XUSB_GAMEPAD_X'],\n    actDown: ['K', 'M', '108', '209', 'XUSB_GAMEPAD_A'],\n    actRight: ['L', 'Ç', '109', '210', 'XUSB_GAMEPAD_B'],\n    left1: ['Q', 'Y', '110', '211', 'XUSB_GAMEPAD_LEFT_SHOULDER'],\n    left2: ['1', '3', '111', '212', 'XUSB_GAMEPAD_LEFT_TRIGGER'],\n    left3: [';', '´', '187', '213', 'XUSB_GAMEPAD_LEFT_THUMB'],\n    right1: ['E', 'U', '188', '214', 'XUSB_GAMEPAD_RIGHT_SHOULDER'],\n    right2: ['2', '4', '189', '215', 'XUSB_GAMEPAD_RIGHT_TRIGGER'],\n    right3: ['.', '~', '190', '216', 'XUSB_GAMEPAD_RIGHT_THUMB'],\n    select: ['ENTER', 'P', '193', '217', 'XUSB_GAMEPAD_BACK'],\n    start: ['SPACE', 'O', '231', '218', 'XUSB_GAMEPAD_START'],\n    pause: ['ESC', 'ESC', 'ESC', 'ESC', 'ESC'],\n    load: ['F1', 'F1', 'F1', 'F1', 'F1'],\n    save: ['[', '[', '[', '[', '['],\n    fast: ['TAB', 'TAB', 'TAB', 'TAB', 'TAB'],\n    volUp: [\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP',\n        'MEDIA_VOLUME_UP'\n    ],\n    volDown: [\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN',\n        'MEDIA_VOLUME_DOWN'\n    ]\n};\nwindow.keymappings = keymappings;\nexports.default = keymappings;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_option_1 = __importDefault(require(\"../utils/get-option\"));\nconst options = {\n    ip: (0, get_option_1.default)('code', 'localhost:5000'),\n    layout: (0, get_option_1.default)('layout'),\n    player: (0, get_option_1.default)('player', 1) - 1,\n    password: (0, get_option_1.default)('password'),\n    debug: (0, get_option_1.default)('debug', false),\n    locked: (0, get_option_1.default)('locked', []),\n    hidden: (0, get_option_1.default)('hidden', []),\n    invertL: (0, get_option_1.default)('invertL', false),\n    invertR: (0, get_option_1.default)('invertR', false),\n    disJoyXAxis: (0, get_option_1.default)('disJoyXAxis', false),\n    disJoyYAxis: (0, get_option_1.default)('disJoyYAxis', false),\n    dblClickLoadSave: (0, get_option_1.default)('dblClickLoadSave', false),\n    changeKeyOnDrag: (0, get_option_1.default)('changeKeyOnDrag', true),\n    vibrate: (0, get_option_1.default)('vibrate', 15),\n    vibrateJoystick: (0, get_option_1.default)('vibrateJoystick', 5),\n    vibrationFromGame: (0, get_option_1.default)('vibrationFromGame', true),\n    vgamepad: (0, get_option_1.default)('vgamepad', false),\n    bgImage: (0, get_option_1.default)('bgImage', ''),\n    bgOpacity: (0, get_option_1.default)('bgOpacity', 0.5),\n    bgBlur: (0, get_option_1.default)('bgBlur', 0),\n    colorsBackground: (0, get_option_1.default)('background', 'rgba(0, 0, 0, 1)'),\n    colorsColor: (0, get_option_1.default)('color', 'rgba(255, 255, 255, 0.53)'),\n    colorsBorder: (0, get_option_1.default)('border', 'rgba(255, 255, 255, 0.53)'),\n    colorsActive: (0, get_option_1.default)('active', 'rgba(255, 255, 255, 0.2)'),\n    customCSS: (0, get_option_1.default)('customCSS', ''),\n    customJS: (0, get_option_1.default)('customJS', ''),\n    pluginMobile: (0, get_option_1.default)('pluginMobile', false),\n    driveSensitivity: (0, get_option_1.default)('driveSensitivity', 2),\n    drivePrecision: (0, get_option_1.default)('drivePrecision', 1)\n};\nwindow.options = options;\nexports.default = options;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._socketConnect = exports.socket = exports.socketConnect = exports.commands = void 0;\nconst options_1 = __importDefault(require(\"./options\"));\nconst loading_1 = __importDefault(require(\"../utils/loading\"));\nconst toast_1 = require(\"../utils/toast\");\nconst $ping = document.querySelector('.ping');\n// Evita aparecer a tela de senha novamente\nlet triedToAuthenticate = false;\nlet pingID;\nlet pingTime = Date.now();\n// Comandos vindos do servidor\nexports.commands = {\n    /** Exibe informações na tela */\n    INFO: (data) => {\n        (0, toast_1.toast)(data);\n    },\n    /** Falha ao autenticar */\n    AUTH_FAILED: () => {\n        if (triedToAuthenticate)\n            return;\n        document.body.classList.remove('connecting', 'connected');\n        document.body.classList.add('disconnected');\n        const password = prompt('O computador requer uma senha para se conectar ao MobyStk');\n        if (password === null)\n            return;\n        localStorage.setItem('joystick.password', password);\n        triedToAuthenticate = true;\n        (0, loading_1.default)();\n        window.location.reload();\n    },\n    pong: (id) => {\n        if (Number(id) === pingID) {\n            if ($ping)\n                $ping.innerText = String(Date.now() - pingTime) + 'ms';\n            pingID = undefined;\n        }\n    }\n};\nwindow.socketConnect = _socketConnect;\nconst socketConnect = () => window.socketConnect();\nexports.socketConnect = socketConnect;\n/** Conexão do socket */\nexports.socket = (0, exports.socketConnect)();\n/** Tenta conectar ao socket */\nfunction _socketConnect() {\n    let ws;\n    try {\n        ws = new WebSocket('ws://' + options_1.default.ip);\n    }\n    catch (err) {\n        if (options_1.default.debug)\n            console.error(err);\n        closed();\n        return;\n    }\n    ws.addEventListener('open', opened);\n    ws.addEventListener('close', closed);\n    ws.addEventListener('message', message);\n    document.body.classList.remove('connected', 'disconnected');\n    document.body.classList.add('connecting');\n    /** Socket conectado */\n    function opened() {\n        document.body.classList.remove('connecting', 'disconnected');\n        document.body.classList.add('connected');\n        ws.send('PASSWORD ' + (options_1.default.password || ''));\n    }\n    /** Socket desconectado */\n    function closed() {\n        document.body.classList.remove('connecting', 'connected');\n        document.body.classList.add('disconnected');\n        setTimeout(() => (exports.socket = (0, exports.socketConnect)()), 3000);\n    }\n    /** Mensagem do socket */\n    function message(e) {\n        const [cmd, ...data] = e.data.split(' ');\n        const command = exports.commands[cmd];\n        if (typeof command !== 'function')\n            return;\n        command(data.join(' '));\n    }\n    return ws;\n}\nexports._socketConnect = _socketConnect;\nwindow.socket = exports.socket;\nfunction ping() {\n    if (pingID && $ping)\n        $ping.innerText = '+999ms';\n    pingID = Math.floor(Math.random() * 1000000);\n    pingTime = Date.now();\n    exports.socket === null || exports.socket === void 0 ? void 0 : exports.socket.send(`ping ${pingID}`);\n}\nsetInterval(ping, 1000);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass EventEmitter {\n    constructor() {\n        this.events = {};\n    }\n    on(events, listener) {\n        for (const event of events.split(' ')) {\n            if (typeof this.events[event] !== 'object') {\n                this.events[event] = [];\n            }\n            this.events[event].push(listener);\n        }\n        return () => {\n            for (const event of events.split(' ')) {\n                this.off(event, listener);\n            }\n        };\n    }\n    off(events, listener) {\n        for (const event of events.split(' ')) {\n            if (typeof this.events[event] === 'object') {\n                const idx = this.events[event].indexOf(listener);\n                if (idx > -1) {\n                    this.events[event].splice(idx, 1);\n                }\n            }\n        }\n    }\n    emit(events, ...args) {\n        for (const event of events.split(' ')) {\n            if (typeof this.events[event] === 'object') {\n                this.events[event].forEach((listener) => listener.apply(this, args));\n            }\n        }\n    }\n    once(events, listener) {\n        for (const event of events.split(' ')) {\n            const remove = this.on(event, (...args) => {\n                remove();\n                listener.apply(this, args);\n            });\n        }\n    }\n}\nexports.default = EventEmitter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet lastVibration = Date.now();\n/**\n * Faz o dispositivo vibrar\n */\nfunction vibrate(pattern, force = false) {\n    let time;\n    if (Array.isArray(pattern))\n        time = pattern.reduce((a, c) => (a += Number(c)), 0);\n    else\n        time = Number(pattern);\n    if (force) {\n        lastVibration = Date.now() + time;\n        return navigator.vibrate(pattern);\n    }\n    if (Date.now() + time > lastVibration) {\n        return navigator.vibrate(pattern);\n    }\n    return false;\n}\nexports.default = vibrate;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t698: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkjoystick\"] = self[\"webpackChunkjoystick\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [817,167], () => (__webpack_require__(504)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","controller_1","Element_1","ButtonComponent","default","constructor","details","super","type","content","key","customAction","lockable","diagonal","targets","scalable","border","radius","fontSize","active","editing","$button","document","createElement","classList","add","dataset","id","instance","element","press","_a","_b","_c","_d","elements","buttons","filter","e","includes","target","emit","release","remove","render","el","style","borderTop","borderRight","borderBottom","borderLeft","map","join","borderRadius","innerHTML","innerText","$icon","appendChild","_html","action","undefined","toObject","assign","event_emitter_1","ElementComponent","name","x","y","anchorX","anchorY","width","height","left","right","top","bottom","transform","GroupComponent","parsedContent","$group","nipplejs_1","options_1","JoystickComponent","size","padding","keys","position","up","down","$joystick","nipple","destroy","create","zone","mode","lockX","disJoyYAxis","lockY","disJoyXAxis","on","d","sendCmd","keymappings_1","socket_1","vibrate_1","element_actions_1","elements_1","controllerIndicatorClass","vgamepad","$controllerIndicator","commands","V","data","toLowerCase","split","vibrationFromGame","n","parseInt","window","custom","length","player","recordingMacro","lastMacro","push","socket","readyState","send","args","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","playingMacro","backend_integration_1","loadState","layoutEditor","opened","vibrate","saveState","recordMacro","playMacro","command","r","setTimeout","fullScreen","documentElement","requestFullscreen","loadStateBtn","find","addEventListener","dblClickLoadSave","saveStateBtn","recordMacroBtn","playMacroBtn","querySelector","$viewport","$layout","$ping","$DIStatus","$DILayout","$DIPlayerNumber","$DIClock","$DIBatteryLevel","$DIBatteryIcon","$DIBattery","$deviceInfo","$bgImage","$edit","$root","preventDefault","body","Button_1","Joystick_1","touchEnd","touch","Array","from","changedTouches","i","currentTouches","findIndex","t","identifier","splice","elementFromPoint","clientX","clientY","parentElement","joystick","oldtouch","changeKeyOnDrag","resizeJoystick","joysticks","outerHeight","outerWidth","setAttribute","forEach","j","_e","vibrateJoystick","distance","Math","round","cos","angle","radian","sin","isNaN","direction","update","dir","keysAndBorders","getKeyAndBorder","degree","importElement","parseElement","getAllElements","loadLayout","Group_1","joystick_1","motion_control_1","layout","parsedLayout","allElements","object","currentLayout","all","groups","obj","objectID","import","hidden","locked","group","parent","location","href","Error","layouts","l","alert","drive","driveHTML","ondevicemotion","driveY","driveAngle","lastDirections","land","inverted","accelerationIncludingGravity","parseFloat","toFixed","$steeringWheel","children","driveSensitivity","drivePrecision","SENSITIVITY","PRECISION","getArrowAngle","directions","getDirections","pressKeys","unpressKeys","startSensor","protocol","hostname","display","loading_1","toast_1","end","start","debug","invertL","invertR","bgImage","backgroundImage","bgOpacity","opacity","String","bgBlur","colorsBackground","setProperty","colorsColor","colorsBorder","colorsActive","$customCSS","textContent","customCSS","append","customJS","trim","confirm","Function","err","message","pluginMobile","$script","src","onerror","toast","updateBattery","battery","charging","level","roundLevel","updateClock","hours","Date","getHours","toString","padStart","minutes","getMinutes","navigator","getBattery","call","catch","console","error","setInterval","keymappings","joyLUp","joyLLeft","joyLDown","joyLRight","joyRUp","joyRLeft","joyRDown","joyRRight","padUp","padLeft","padDown","padRight","actUp","actLeft","actDown","actRight","left1","left2","left3","right1","right2","right3","select","pause","load","save","fast","volUp","volDown","get_option_1","options","ip","password","_socketConnect","socketConnect","pingID","triedToAuthenticate","pingTime","now","ws","WebSocket","closed","cmd","INFO","AUTH_FAILED","prompt","localStorage","setItem","reload","pong","Number","floor","random","events","listener","event","off","idx","indexOf","once","lastVibration","pattern","force","time","isArray","reduce","a","c","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","every","o","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}