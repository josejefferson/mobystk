(()=>{"use strict";var e,t={528:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(o(612)),r=o(257),a=o(517),s=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B","#FFFFFF","#000000"],c={background:i("background","#000"),color:i("color","#FFF8","88"),border:i("border","#FFF8","88"),active:i("active","#FFF3","33")};function i(e,t,o=""){const n={el:`.pickr-${e}`,theme:"classic",default:(0,r.ls)(e)||t,defaultRepresentation:"HEXA",comparison:!1,autoReposition:!0,components:{preview:!0,opacity:!0,hue:!0,interaction:{input:!0,save:!0}},i18n:{"btn:save":"Fechar"},swatches:s.map((e=>e+o))};return l.default.create(n).on("change",function(e){return t=>{const o=t.toRGBA().toString(),n=a.formEls[e];n.value=o,n.parentElement.querySelector(".pickr button").style.setProperty("--pcr-color",o)}}(e)).on("save",((e,t)=>{t.hide()}))}a.$resetColors.addEventListener("click",(()=>{c.background.setColor("#000"),c.color.setColor("#FFF8"),c.border.setColor("#FFF8"),c.active.setColor("#FFF3")}))},517:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.$export=t.$import=t.$resetColors=t.$inputsRange=t.$hiddenItems=t.$lockableKeys=t.$selectLayout=t.$athPopupDSA=t.$athPopupClose=t.$athPopup=t.$forgetPassword=t.formEls=t.$form=void 0,t.$form=document.forms[0],t.formEls=t.$form.elements,t.$forgetPassword=document.querySelector(".forgetPassword"),t.$athPopup=document.querySelector(".addToHomescreenPopup"),t.$athPopupClose=t.$athPopup.querySelector(".close-popup"),t.$athPopupDSA=t.$athPopup.querySelector(".dontShowAgainAddToHomescreenPopup"),t.$selectLayout=document.querySelector(".selectLayout"),t.$lockableKeys=document.querySelector(".lockableKeysList"),t.$hiddenItems=document.querySelector(".hiddenItemsList"),t.$inputsRange=document.querySelectorAll('input[type="range"] + .value'),t.$resetColors=document.querySelector(".resetColors"),t.$import=document.querySelector(".importSettings"),t.$export=document.querySelector(".exportSettings")},9:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(l,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(257),a=l(o(45)),s=o(294),c=o(517);c.$import.addEventListener("click",(function(){const e=document.createElement("input");e.type="file",e.style.display="none",e.click(),e.addEventListener("change",(function(){return n(this,void 0,void 0,(function*(){try{const e=this.files[0];if(!e)return;const t=yield new Promise(((t,o)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=o,n.readAsText(e)}));(0,r.ls)(JSON.parse(String(t))),(0,a.default)(),location.reload()}catch(e){console.error(e),(0,s.toast)("Ocorreu um erro ao importar as configurações")}}))}))})),c.$export.addEventListener("click",(function(){const e=JSON.stringify((0,r.ls)()),t=document.createElement("a"),o=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(o);t.href=n,t.download=`mobyStk-settings-${(new Date).toISOString()}.json`,t.click()}))},660:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),o(528),o(9),o(279),o(464),o(68);const l=n(o(45)),r=o(577);window.addEventListener("load",(()=>{document.body.classList.remove("preload")})),document.addEventListener("contextmenu",(()=>!1)),document.querySelectorAll("a").forEach((e=>e.addEventListener("click",l.default))),document.querySelectorAll(".start").forEach((e=>{e.addEventListener("contextmenu",(e=>(e.preventDefault(),document.querySelector(".hiddenOptions").style.display="flex",(0,r.scrollToY)(document.body.scrollHeight,400),!1)))}))},279:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(o(753)),r=o(865),a=o(257),s=n(o(661)),c=o(294),i=o(517);function d(){document.scrollingElement.scrollTop>window.innerHeight?document.querySelector(".start.floating").classList.remove("hidden"):document.querySelector(".start.floating").classList.add("hidden")}window.addEventListener("load",d),window.addEventListener("scroll",d);let u=parseInt((0,a.ls)("stats.hits.home"));isNaN(u)&&(u=0),(0,a.ls)("stats.hits.home",++u),null!==(0,a.ls)("password")&&i.$forgetPassword.classList.remove("hidden"),i.$forgetPassword.addEventListener("click",(()=>{a.ls.remove("password"),i.$forgetPassword.classList.add("hidden"),(0,c.toast)("A senha do MobyStk foi esquecida")})),i.$athPopupClose.addEventListener("click",(()=>{i.$athPopup.classList.remove("show"),i.$athPopupDSA.checked&&(0,a.ls)("events.addToHomescreenPopup",!0)})),(0,a.ls)("events.addToHomescreenPopup")||3!==u&&u%10!=0||window.addEventListener("load",(()=>{const e=document.createElement("video");e.src="video/add-to-homescreen-tutorial.mp4",e.loop=!0,e.muted=!0,i.$athPopup.querySelector(".content").appendChild(e),e.play(),i.$athPopup.classList.add("show")}));for(const e of l.default.layouts){const t=document.createElement("label");t.classList.add("chip");const o=document.createElement("input");o.type="radio",o.name="layout",o.value=e.id;const n=document.createElement("div");n.classList.add("label");const l=document.createElement("div");l.classList.add("label-title"),l.innerText=e.name;const r=document.createElement("div");r.classList.add("label-subtitle"),r.innerText=e.subtitle||"",e.info&&n.addEventListener("click",(()=>(0,c.toast)(e.info||""))),n.appendChild(l),n.appendChild(r),t.appendChild(o),t.appendChild(n),i.$selectLayout.appendChild(t)}for(const e of l.default.buttons){if(!e.content||e.customAction||e.diagonal)continue;let t="";"mobystk:text"===e.content.type?t+=(0,r.escapeHTML)(e.content.value):"mobystk:icon"===e.content.type&&(t+=`<i class="mdi mdi-${(0,r.escapeHTML)(e.content.value)}"></i>`),i.$lockableKeys.innerHTML+=`\n\t\t<label class="chip">\n\t\t\t<input type="checkbox" name="lock" data-id="${(0,r.escapeHTML)(e.id)}" value="${(0,r.escapeHTML)(e.id)}">\n\t\t\t<div class="label">${t}</div>\n\t\t</label>`}const p=[...l.default.buttons,...l.default.groups,...l.default.joysticks];for(const e of p){let t="";"mobystk:group"===e.type&&(t+='<i class="mdi mdi-group"></i>&nbsp;'),"mobystk:joystick"===e.type&&(t+='<i class="mdi mdi-gamepad"></i>&nbsp;'),"content"in e&&"type"in e.content&&"mobystk:text"===e.content.type?t+=(0,r.escapeHTML)(e.content.value):"content"in e&&"type"in e.content&&"mobystk:icon"===e.content.type?t+=`<i class="mdi mdi-${(0,r.escapeHTML)(e.content.value)}"></i>`:e.name&&(t+=(0,r.escapeHTML)(e.name)),i.$hiddenItems.innerHTML+=`\n\t\t<label class="chip">\n\t\t\t<input type="checkbox" name="hide" data-id="${(0,r.escapeHTML)(e.id)}" value="${(0,r.escapeHTML)(e.id)}">\n\t\t\t<div class="label">${t}</div>\n\t\t</label>`}i.$inputsRange.forEach((e=>{const t=e.parentElement.querySelector('input[type="range"]'),o=(0,s.default)(t.step||1);function n(){e.innerText=Number(t.value).toFixed(o)}t&&(t.addEventListener("change",n),t.addEventListener("mousemove",n),t.addEventListener("touchmove",n)),n()}))},464:function(e,t,o){var n,l=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var l=Object.getOwnPropertyDescriptor(t,o);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,l)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&l(t,e,o);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=s(o(753)),i=o(865),d=a(o(257)),u=s(o(45)),p=o(517);p.formEls.code.value=(0,d.default)("code",window.location.hostname+":5000"),p.formEls.layout.value=(0,d.default)("layout",null===(n=c.default.layouts[0])||void 0===n?void 0:n.id),p.formEls.player.value=(0,d.default)("player","1"),p.formEls.invertL.checked=(0,d.default)("invertL",!1),p.formEls.invertR.checked=(0,d.default)("invertR",!1),p.formEls.disJoyXAxis.checked=(0,d.default)("disJoyXAxis",!1),p.formEls.disJoyYAxis.checked=(0,d.default)("disJoyYAxis",!1),p.formEls.dblClickLoadSave.checked=(0,d.default)("dblClickLoadSave",!1),p.formEls.changeKeyOnDrag.checked=(0,d.default)("changeKeyOnDrag",!0),p.formEls.vibrate.value=(0,d.default)("vibrate","15"),p.formEls.vibrateJoystick.value=(0,d.default)("vibrateJoystick","5"),p.formEls.vibrationFromGame.checked=(0,d.default)("vibrationFromGame",!0),p.formEls.vgamepad.checked=(0,d.default)("vgamepad",!1),p.formEls.background.value=(0,d.default)("background","rgba(0, 0, 0, 1)"),p.formEls.color.value=(0,d.default)("color","rgba(255, 255, 255, 0.53)"),p.formEls.border.value=(0,d.default)("border","rgba(255, 255, 255, 0.53)"),p.formEls.active.value=(0,d.default)("active","rgba(255, 255, 255, 0.2)"),p.formEls.bgImage.value=(0,d.default)("bgImage",""),p.formEls.bgOpacity.value=(0,d.default)("bgOpacity","0.5"),p.formEls.bgBlur.value=(0,d.default)("bgBlur","0"),p.formEls.customCSS.value=(0,d.default)("customCSS",""),p.formEls.customJS.value=(0,d.default)("customJS",""),p.formEls.pluginMobile.value=(0,d.default)("pluginMobile",!1),p.formEls.driveSensitivity.value=(0,d.default)("driveSensitivity","2"),p.formEls.drivePrecision.value=(0,d.default)("drivePrecision","1");const f=(0,d.default)("locked",[]),m=(0,d.default)("hidden",["mobystk:macro_record","mobystk:macro_play","mobystk:fast_forward"]);for(const e of f){const t=document.querySelector(`[name=lock][data-id="${(0,i.escapeHTML)(e)}"]`);t&&(t.checked=!0)}for(const e of m){const t=document.querySelector(`[name=hide][data-id="${(0,i.escapeHTML)(e)}"]`);t&&(t.checked=!0)}p.$form.addEventListener("submit",(function(e){e.preventDefault();const t=this.elements,o=[],n=[];t.lock.forEach((e=>{const t=e;t.checked&&o.push(t.value)})),t.hide.forEach((e=>{const t=e;t.checked&&n.push(t.value)})),(0,d.ls)("code",t.code.value),(0,d.ls)("layout",t.layout.value),(0,d.ls)("player",Number(t.player.value)),(0,d.ls)("debug",t.debug.checked),(0,d.ls)("invertL",t.invertL.checked),(0,d.ls)("invertR",t.invertR.checked),(0,d.ls)("disJoyXAxis",t.disJoyXAxis.checked),(0,d.ls)("disJoyYAxis",t.disJoyYAxis.checked),(0,d.ls)("dblClickLoadSave",t.dblClickLoadSave.checked),(0,d.ls)("changeKeyOnDrag",t.changeKeyOnDrag.checked),(0,d.ls)("vibrate",Number(t.vibrate.value)),(0,d.ls)("vibrateJoystick",Number(t.vibrateJoystick.value)),(0,d.ls)("vibrationFromGame",t.vibrationFromGame.checked),(0,d.ls)("vgamepad",t.vgamepad.checked),(0,d.ls)("background",t.background.value),(0,d.ls)("color",t.color.value),(0,d.ls)("border",t.border.value),(0,d.ls)("active",t.active.value),(0,d.ls)("bgImage",t.bgImage.value),(0,d.ls)("bgOpacity",Number(t.bgOpacity.value)),(0,d.ls)("bgBlur",Number(t.bgBlur.value)),(0,d.ls)("customCSS",t.customCSS.value),(0,d.ls)("customJS",t.customJS.value),(0,d.ls)("pluginMobile",t.pluginMobile.checked),(0,d.ls)("driveSensitivity",Number(t.driveSensitivity.value)),(0,d.ls)("drivePrecision",Number(t.drivePrecision.value)),(0,d.ls)("locked",o),(0,d.ls)("hidden",n),(0,u.default)(),location.href="joystick.html"}))},68:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},865:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHTML=void 0,t.escapeHTML=function(e){return null==e?"":(e=e.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},661:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=Number(e).toString(),o=t.indexOf(".")+1;return o?t.length-o:0}},577:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToY=void 0,t.scrollToY=function(e,t=0,o=document.scrollingElement){if(o.scrollTop===e)return;const n=(o.scrollTop-e)/2;let l=0,r=null;window.requestAnimationFrame((function a(s){if(null!==r){if(l+=Math.PI*(s-r)/t,l>=Math.PI)return o.scrollTop=e;o.scrollTop=n+e+n*Math.cos(l)}r=s,window.requestAnimationFrame(a)}))}}},o={};function n(e){var l=o[e];if(void 0!==l)return l.exports;var r=o[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,l,r)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){for(var[o,l,r]=e[d],s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,l,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,r,[a,s,c]=o,i=0;if(a.some((t=>0!==e[t]))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(c)var d=c(n)}for(t&&t(o);i<a.length;i++)r=a[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self.webpackChunkjoystick=self.webpackChunkjoystick||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[90,167],(()=>n(660)));l=n.O(l)})();
//# sourceMappingURL=index.js.map