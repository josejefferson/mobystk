(()=>{"use strict";var e,t={110:(e,t,n)=>{var o=n(612),r=n.n(o),i=n(146),a=n(186),c=n(963),s=n(931),l={buttons:i.Z,groups:a.Z,joysticks:c.Z,layouts:s.Z,currentLayout:null,currentTouches:[],elements:{all:[],buttons:[],groups:[],joysticks:[]}};window.Controller=l;const d=l;var u=n(860),v=n.n(u)().namespace("joystick");function m(e,t){var n=v(e);return null===n?t:n}window.ls=v,window.getOpt=m;var p=n(45),h=function(){function e(e){this.element=e,this.content=e.querySelector(".toast-content"),this.toasts=[],this.showing=!1}return e.prototype.show=function(e,t,n){return void 0===t&&(t=2e3),void 0===n&&(n=!1),this.toasts.push({message:e,time:t,html:n}),this.showing||this.start(),this},e.prototype.start=function(){if(this.element.classList.remove("show"),!this.toasts.length)return this.showing=!1;this.showing?setTimeout(this.run.bind(this),1e3):this.run(),this.showing=!0},e.prototype.run=function(){this.element.classList.add("show");var e=this.toasts.shift();this.content[e.html?"innerHTML":"innerText"]=e.message,setTimeout(this.start.bind(this),e.time||2e3)},e}(),b=document.createElement("div");b.classList.add("toast"),b.innerHTML='<div class="toast-content"></div>',document.body.appendChild(b);var y=document.createElement("style");y.innerHTML="\n@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap');\n\n.toast {\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\tbackground-color: rgba(85, 85, 85, 0.9);\n\tborder-radius: 22px;\n\tbottom: 48px; \n\t-webkit-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tcolor: #FFFFFF;\n\tdisplay: -webkit-inline-box;\n\tdisplay: -ms-inline-flexbox;\n\tdisplay: inline-flex;\n\tfont-family: 'Roboto Condensed', Roboto, Arial, sans-serif;\n\tfont-size: 15.8px;\n\tleft: 50%;\n\tline-height: 17.6px;\n\tmargin: 16px;\n\tmax-width: 320px;\n\tmin-height: 44px;\n\topacity: 0;\n\tpadding: 13.8px 25px;\n\tpointer-events: none;\n\tposition: fixed;\n\ttext-align: left;\n\ttext-shadow: black 0 0 2px;\n\t-webkit-transform: translateX(calc(-50% - 16px));\n\t-ms-transform: translateX(calc(-50% - 16px));\n\ttransform: translateX(calc(-50% - 16px));\n\t-webkit-transition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\t-o-transition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\ttransition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\twidth: -webkit-fit-content;\n\twidth: -moz-fit-content;\n\twidth: fit-content;\n\tz-index: 99999999999;\n}\n\n.toast.show {\n\topacity: 1;\n\t-webkit-transition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n\t-o-transition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n\ttransition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n}\n\n/*.toast .toast-content {\n\tletter-spacing: -0.03px;\n\tline-height: 17.6px;\n\t-webkit-transform: scaleY(1.11);\n\t-ms-transform: scaleY(1.11);\n\ttransform: scaleY(1.11);\n}*/\n",document.body.appendChild(y);var f=new h(b),g=function(e,t,n){return void 0===t&&(t=2e3),void 0===n&&(n=!1),f.show(e,t,n)};window.toast=g;var k,w=n(790),x=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},S=document.forms[0].elements,F=parseInt(v("stats.hits.home"));function L(){document.scrollingElement.scrollTop>window.innerHeight?document.querySelector(".start.floating").classList.remove("hidden"):document.querySelector(".start.floating").classList.add("hidden")}isNaN(F)&&(F=0),v("stats.hits.home",++F),window.addEventListener("load",(function(){document.body.classList.remove("preload")})),window.addEventListener("load",L),window.addEventListener("scroll",L),document.addEventListener("contextmenu",(function(){return!1})),document.querySelectorAll("a").forEach((function(e){return e.addEventListener("click",p.Z)})),document.querySelectorAll(".start").forEach((function(e){e.addEventListener("contextmenu",(function(e){return e.preventDefault(),document.querySelector(".hiddenOptions").style.display="flex",function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=document.scrollingElement),n.scrollTop!==e){var o=(n.scrollTop-e)/2,r=0,i=null;window.requestAnimationFrame((function a(c){if(null!==i){if((r+=Math.PI*(c-i)/t)>=Math.PI)return n.scrollTop=e;n.scrollTop=o+e+o*Math.cos(r)}i=c,window.requestAnimationFrame(a)}))}}(document.body.scrollHeight,400),!1}))}));var E=document.querySelector(".forgetPassword");null!==v("password")&&E.classList.remove("hidden"),E.addEventListener("click",(function(){v.remove("password"),E.classList.add("hidden"),g("A senha do MobyStk foi esquecida")}));var C=document.querySelector(".addToHomescreenPopup"),A=C.querySelector(".close-popup"),O=C.querySelector(".dontShowAgainAddToHomescreenPopup");A.addEventListener("click",(function(){C.classList.remove("show"),O.checked&&v("events.addToHomescreenPopup",!0)})),v("events.addToHomescreenPopup")||3!==F&&F%10!=0||window.addEventListener("load",(function(){var e=document.createElement("video");e.src="video/add-to-homescreen-tutorial.mp4",e.loop=!0,e.muted=!0,C.querySelector(".content").appendChild(e),e.play(),C.classList.add("show")}));for(var q=document.querySelector(".selectLayout"),T=function(e){var t=document.createElement("label");t.classList.add("chip");var n=document.createElement("input");n.type="radio",n.name="layout",n.value=e.id;var o=document.createElement("div");o.classList.add("label");var r=document.createElement("div");r.classList.add("label-title"),r.innerText=e.name;var i=document.createElement("div");i.classList.add("label-subtitle"),i.innerText=e.subtitle,e.warning&&o.addEventListener("click",(function(t){g(e.warning)})),o.appendChild(r),o.appendChild(i),t.appendChild(n),t.appendChild(o),q.appendChild(t)},J=0,P=d.layouts;J<P.length;J++)T(P[J]);for(var j=document.querySelector(".lockableKeysList"),B=0,N=d.buttons;B<N.length;B++){var R=N[B];if(R.content&&!R.customAction&&!R.diagonal){var H="";"mobystk:text"===R.content.type?H+=(0,w.r)(R.content.value):"mobystk:icon"===R.content.type&&(H+='<i class="mdi mdi-'.concat((0,w.r)(R.content.value),'"></i>')),j.innerHTML+='\n\t\t<label class="chip">\n\t\t\t<input type="checkbox" name="lock" data-id="'.concat((0,w.r)(R.id),'" value="').concat((0,w.r)(R.id),'">\n\t\t\t<div class="label">').concat(H,"</div>\n\t\t</label>")}}for(var z=document.querySelector(".hiddenItemsList"),D=0,M=x(x(x([],d.buttons,!0),d.groups,!0),d.joysticks,!0);D<M.length;D++){var I=M[D];H="","mobystk:group"===I.type&&(H+='<i class="mdi mdi-group"></i>&nbsp;'),"mobystk:joystick"===I.type&&(H+='<i class="mdi mdi-gamepad"></i>&nbsp;'),"content"in I&&"type"in I.content&&"mobystk:text"===I.content.type?H+=(0,w.r)(I.content.value):"content"in I&&"type"in I.content&&"mobystk:icon"===I.content.type?H+='<i class="mdi mdi-'.concat((0,w.r)(I.content.value),'"></i>'):I.name&&(H+=(0,w.r)(I.name)),z.innerHTML+='\n\t\t<label class="chip">\n\t\t\t<input type="checkbox" name="hide" data-id="'.concat((0,w.r)(I.id),'" value="').concat((0,w.r)(I.id),'">\n\t\t\t<div class="label">').concat(H,"</div>\n\t\t</label>")}S.code.value=m("code",window.location.hostname+":5000"),S.layout.value=m("layout",null===(k=d.layouts[0])||void 0===k?void 0:k.id),S.player.value=m("player","1"),S.invertL.checked=m("invertL",!1),S.invertR.checked=m("invertR",!1),S.disJoyXAxis.checked=m("disJoyXAxis",!1),S.disJoyYAxis.checked=m("disJoyYAxis",!1),S.dblClickLoadSave.checked=m("dblClickLoadSave",!1),S.changeKeyOnDrag.checked=m("changeKeyOnDrag",!0),S.vibrate.value=m("vibrate","15"),S.vibrateJoystick.value=m("vibrateJoystick","5"),S.vibrationFromGame.checked=m("vibrationFromGame",!0),S.vgamepad.checked=m("vgamepad",!1),S.background.value=m("background","rgba(0, 0, 0, 1)"),S.color.value=m("color","rgba(255, 255, 255, 0.53)"),S.border.value=m("border","rgba(255, 255, 255, 0.53)"),S.active.value=m("active","rgba(255, 255, 255, 0.2)"),S.bgImage.value=m("bgImage",""),S.bgOpacity.value=m("bgOpacity","0.5"),S.bgBlur.value=m("bgBlur","0"),S.customCSS.value=m("customCSS",""),S.customJS.value=m("customJS",""),S.driveSensitivity.value=m("driveSensitivity","2"),S.drivePrecision.value=m("drivePrecision","1");for(var X=m("locked",[]),Y=m("hidden",["mobystk:macro_record","mobystk:macro_play","mobystk:fast_forward"]),Z=0,G=X;Z<G.length;Z++){var K=G[Z];(Q=document.querySelector('[name=lock][data-id="'.concat((0,w.r)(K),'"]')))&&(Q.checked=!0)}for(var _=0,U=Y;_<U.length;_++){var Q;K=U[_],(Q=document.querySelector('[name=hide][data-id="'.concat((0,w.r)(K),'"]')))&&(Q.checked=!0)}document.querySelectorAll('input[type="range"] + .value').forEach((function(e){var t,n,o,r=e.parentElement.querySelector('input[type="range"]'),i=(t=r.step||1,(o=(n=Number(t).toString()).indexOf(".")+1)?n.length-o:0);function a(){e.innerText=Number(r.value).toFixed(i)}r&&(r.addEventListener("change",a),r.addEventListener("mousemove",a),r.addEventListener("touchmove",a)),a()})),document.forms[0].addEventListener("submit",(function(e){e.preventDefault();var t=this.elements,n=[],o=[];t.lock.forEach((function(e){e.checked&&n.push(e.value)})),t.hide.forEach((function(e){e.checked&&o.push(e.value)})),v("code",t.code.value),v("layout",t.layout.value),v("player",Number(t.player.value)),v("debug",t.debug.checked),v("invertL",t.invertL.checked),v("invertR",t.invertR.checked),v("disJoyXAxis",t.disJoyXAxis.checked),v("disJoyYAxis",t.disJoyYAxis.checked),v("dblClickLoadSave",t.dblClickLoadSave.checked),v("changeKeyOnDrag",t.changeKeyOnDrag.checked),v("vibrate",Number(t.vibrate.value)),v("vibrateJoystick",Number(t.vibrateJoystick.value)),v("vibrationFromGame",t.vibrationFromGame.checked),v("vgamepad",t.vgamepad.checked),v("background",t.background.value),v("color",t.color.value),v("border",t.border.value),v("active",t.active.value),v("bgImage",t.bgImage.value),v("bgOpacity",Number(t.bgOpacity.value)),v("bgBlur",Number(t.bgBlur.value)),v("customCSS",t.customCSS.value),v("customJS",t.customJS.value),v("driveSensitivity",Number(t.driveSensitivity.value)),v("drivePrecision",Number(t.drivePrecision.value)),v("locked",n),v("hidden",o),(0,p.Z)(),location.href="joystick.html"}));var V={background:W("background","#000"),color:W("color","#FFF8","88"),border:W("border","#FFF8","88"),active:W("active","#FFF3","33")};function W(e,t,n){return void 0===n&&(n=""),r().create({el:".pickr-".concat(e),theme:"classic",default:v(e)||t,defaultRepresentation:"HEXA",comparison:!1,autoReposition:!0,components:{preview:!0,opacity:!0,hue:!0,interaction:{input:!0,save:!0}},i18n:{"btn:save":"Fechar"},swatches:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B","#FFFFFF","#000000"].map((function(e){return e+n}))}).on("change",(function(t){var n=t.toRGBA().toString(),o=S[e];o.value=n,o.parentElement.querySelector(".pickr button").style.setProperty("--pcr-color",n)})).on("save",(function(e,t){t.hide()}))}document.querySelector(".resetColors").addEventListener("click",(function(){V.background.setColor("#000"),V.color.setColor("#FFF8"),V.border.setColor("#FFF8"),V.active.setColor("#FFF3")})),document.querySelector(".importSettings").addEventListener("click",(function(){var e=document.createElement("input");e.type="file",e.style.display="none",e.click(),e.onchange=function(){return e=this,t=void 0,o=function(){var e,t,n;return function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),(e=this.files[0])?[4,new Promise((function(t,n){var o=new FileReader;o.onload=function(){return t(o.result)},o.onerror=n,o.readAsText(e)}))]:[2];case 1:return t=o.sent(),v(JSON.parse(String(t))),(0,p.Z)(),location.reload(),[3,3];case 2:return n=o.sent(),console.error(n),alert("Ocorreu um erro ao importar as configurações."),[3,3];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((o=o.apply(e,t||[])).next())}));var e,t,n,o}})),document.querySelector(".exportSettings").addEventListener("click",(function(){var e=JSON.stringify(v()),t=document.createElement("a"),n=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(n);t.href=o,t.download="mobyStk-settings-".concat((new Date).toISOString(),".json"),t.click()}))}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],c=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,c,s]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(s)var d=s(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self.webpackChunkjoystick=self.webpackChunkjoystick||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[90,444],(()=>o(110)));r=o.O(r)})();
//# sourceMappingURL=index.js.map