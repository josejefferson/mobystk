(()=>{var t={860:function(t){!function(e,n){var s={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},stringify:function(t,e){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t,e||s.replace)},parse:function(t,e){try{return JSON.parse(t,e||s.revive)}catch(e){return t}},fn:function(t,e){for(var n in s.storeAPI[t]=e,s.apis)s.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var i=s.inherit(s.storeAPI,(function(t,e,n){return 0===arguments.length?i.getAll():"function"==typeof e?i.transact(t,e,n):void 0!==e?i.set(t,e,n):"string"==typeof t||"number"==typeof t?i.get(t):"function"==typeof t?i.each(t):t?i.setAll(t,e):i.clear()}));i._id=t;try{var o="__store2_test";e.setItem(o,"ok"),i._area=e,e.removeItem(o)}catch(t){i._area=s.storage("fake")}return i._ns=n||"",s.areas[t]||(s.areas[t]=i._area),s.apis[i._ns+i._id]||(s.apis[i._ns+i._id]=i),i},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=s.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e,n){if(n=n||this._delim||s.nsdelim,!t)return this._ns?this._ns.substring(0,this._ns.length-n.length):"";var i=t,o=this[i];if(!(o&&o.namespace||((o=s.Store(this._id,this._area,this._ns+i+n))._delim=n,this[i]||(this[i]=o),e)))for(var a in s.areas)o.area(a,s.areas[a]);return o},isFake:function(t){return t?(this._real=this._area,this._area=s.storage("fake")):!1===t&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,i=s.length(this._area);n<i;n++){var o=this._out(s.key(this._area,n));if(void 0!==o&&!1===t.call(this,o,this.get(o),e))break;i>s.length(this._area)&&(i--,n--)}return e||this},keys:function(t){return this.each((function(t,e,n){n.push(t)}),t||[])},get:function(t,e){var n,i=s.get(this._area,this._in(t));return"function"==typeof e&&(n=e,e=null),null!==i?s.parse(i,n):null!=e?e:i},getAll:function(t){return this.each((function(t,e,n){n[t]=e}),t||{})},transact:function(t,e,n){var s=this.get(t,n),i=e(s);return this.set(t,void 0===i?s:i),this},set:function(t,e,n){var i,o=this.get(t);return null!=o&&!1===n?e:("function"==typeof n&&(i=n,n=void 0),s.set(this._area,this._in(t),s.stringify(e,i),n)||o)},setAll:function(t,e){var n,s;for(var i in t)s=t[i],this.set(i,s,e)!==s&&(n=!0);return n},add:function(t,e,n){var i=this.get(t);if(i instanceof Array)e=i.concat(e);else if(null!==i){var o=typeof i;if(o===typeof e&&"object"===o){for(var a in e)i[a]=e[a];e=i}else e=i+e}return s.set(this._area,this._in(t),s.stringify(e,n)),e},remove:function(t,e){var n=this.get(t,e);return s.remove(this._area,this._in(t)),n},clear:function(){return this._ns?this.each((function(t){s.remove(this._area,this._in(t))}),1):s.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in s.areas)s.areas.hasOwnProperty(e)&&(this._area=s.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=s.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return s.inherit(s.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},i=s.Store("local",function(){try{return localStorage}catch(t){}}());i.local=i,i._=s,i.area("session",function(){try{return sessionStorage}catch(t){}}()),i.area("page",s.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return i})):t.exports?t.exports=i:(e.store&&(s.conflict=e.store),e.store=i)}(this,this&&this.define)},377:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$connectStatus=e.$ip=e.$cancel=e.$bar=e.$progress=void 0,e.$progress=document.querySelector(".progress"),e.$bar=e.$progress.querySelector(".bar"),e.$cancel=e.$progress.querySelector(".cancel"),e.$ip=document.querySelector(".ip"),e.$connectStatus=document.querySelector(".connectStatus")},606:function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function a(t){try{c(s.next(t))}catch(t){o(t)}}function r(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}c((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(263)),a=i(n(136)),r=i(n(257)),c=i(n(45)),u=n(377),l=n(970);window.addEventListener("load",(()=>{document.body.classList.remove("preload")})),document.querySelectorAll("a").forEach((t=>t.addEventListener("click",c.default)));const d=(0,r.default)("code",window.location.hostname+":5000");function f(t,e,n,s){if(t>0){switch(u.$progress.classList.remove("hidden"),t){case 1:u.$progress.classList.remove("complete","stopped");break;case 2:u.$progress.classList.add("complete");break;case 3:u.$progress.classList.add("stopped")}if(t>=2&&(u.$bar.style.transition="",setTimeout((()=>f(0)),2e3)),e&&n){u.$bar.style.transition=s+"ms linear";const t=1/(n-1)*Number(e)*100;u.$bar.style.width=t+"%"}}else setTimeout((()=>{u.$progress.classList.add("hidden"),u.$bar.style.transition="",setTimeout((()=>{u.$progress.classList.remove("complete","stopped"),u.$bar.style.width="0",h(!1)}),150)}),2e3)}function h(t=!1){document.querySelectorAll(".app .actions button").forEach((e=>{e.disabled=t}))}function p(t,e){var n;t=(null===(n=o.default[t])||void 0===n?void 0:n[Number(e)-1])||t,1===(null===l.socket||void 0===l.socket?void 0:l.socket.readyState)&&(t.startsWith("*")?null===l.socket||void 0===l.socket||l.socket.send(t.substring(1)):null===l.socket||void 0===l.socket||l.socket.send("T "+t))}function _(t){return s(this,void 0,void 0,(function*(){return new Promise((e=>{setTimeout(e,t)}))}))}u.$ip.innerText=d,document.querySelectorAll(".app .actions .start").forEach((t=>{const{app:e,player:n}=t.dataset;t.addEventListener("click",(()=>function(t,e){return s(this,void 0,void 0,(function*(){let n=!1;u.$cancel.addEventListener("click",(()=>n=!0));const{sequence:s,pause:i}=a.default[t];f(1),h(!0);for(const t in s){if(1!==(null===l.socket||void 0===l.socket?void 0:l.socket.readyState)||n)return f(3);p(s[t],e),f(1,t,s.length,i),yield _(i)}f(2)}))}(e,n)))}))},136:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={snes:{pause:100,sequence:["padUp","padLeft","padDown","padRight","actDown","actRight","actLeft","actUp","start","select","left1","right1"]},snesSave:{pause:100,sequence:["["]},snesLoad:{pause:100,sequence:["F1"]},ps2:{pause:1e3,sequence:["select","left3","right3","start","padUp","padRight","padDown","padLeft","left2","right2","left1","right1","actUp","actRight","actDown","actLeft","joyLUp","joyLRight","joyLDown","joyLLeft","joyRUp","joyRRight","joyRDown","joyRLeft"]},psp:{pause:150,sequence:["UP","LEFT","RIGHT","SPACE","padUp","DOWN","SPACE","padDown","DOWN","SPACE","padLeft","DOWN","SPACE","padRight","DOWN","SPACE","actRight","DOWN","SPACE","actDown","DOWN","SPACE","actLeft","DOWN","SPACE","actUp","DOWN","SPACE","start","DOWN","SPACE","select","DOWN","SPACE","left1","DOWN","SPACE","right1","DOWN","SPACE","joyLUp","DOWN","SPACE","joyLDown","DOWN","SPACE","joyLLeft","DOWN","SPACE","joyLRight","DOWN","DOWN","DOWN","DOWN","DOWN","DOWN","DOWN","SPACE","pause","DOWN","DOWN","DOWN","DOWN","SPACE","save","DOWN","SPACE","load","ESC"]}}},263:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n={joyLUp:["W","T","058","195"],joyLLeft:["A","F","063","196"],joyLDown:["S","G","096","197"],joyLRight:["D","H","097","198"],joyRUp:["5","9","098","199"],joyRLeft:["6","0","099","200"],joyRDown:["7","[","100","201"],joyRRight:["8","]","101","202"],padUp:["UP","Z","102","203","XUSB_GAMEPAD_DPAD_UP"],padLeft:["LEFT","X","103","204","XUSB_GAMEPAD_DPAD_LEFT"],padDown:["DOWN","C","104","205","XUSB_GAMEPAD_DPAD_DOWN"],padRight:["RIGHT","V","105","206","XUSB_GAMEPAD_DPAD_RIGHT"],actUp:["I","B","106","207","XUSB_GAMEPAD_Y"],actLeft:["J","N","107","208","XUSB_GAMEPAD_X"],actDown:["K","M","108","209","XUSB_GAMEPAD_A"],actRight:["L","Ç","109","210","XUSB_GAMEPAD_B"],left1:["Q","Y","110","211","XUSB_GAMEPAD_LEFT_SHOULDER"],left2:["1","3","111","212","XUSB_GAMEPAD_LEFT_TRIGGER"],left3:[";","´","187","213","XUSB_GAMEPAD_LEFT_THUMB"],right1:["E","U","188","214","XUSB_GAMEPAD_RIGHT_SHOULDER"],right2:["2","4","189","215","XUSB_GAMEPAD_RIGHT_TRIGGER"],right3:[".","~","190","216","XUSB_GAMEPAD_RIGHT_THUMB"],select:["ENTER","P","193","217","XUSB_GAMEPAD_BACK"],start:["SPACE","O","231","218","XUSB_GAMEPAD_START"],pause:["ESC","ESC","ESC","ESC","ESC"],load:["F1","F1","F1","F1","F1"],save:["[","[","[","[","["],fast:["TAB","TAB","TAB","TAB","TAB"],volUp:["MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP"],volDown:["MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN"]};window.keymappings=n,e.default=n},437:function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(n(257)),o={ip:(0,i.default)("code","localhost:5000"),layout:(0,i.default)("layout"),player:(0,i.default)("player",1)-1,password:(0,i.default)("password"),debug:(0,i.default)("debug",!1),locked:(0,i.default)("locked",[]),hidden:(0,i.default)("hidden",[]),invertL:(0,i.default)("invertL",!1),invertR:(0,i.default)("invertR",!1),disJoyXAxis:(0,i.default)("disJoyXAxis",!1),disJoyYAxis:(0,i.default)("disJoyYAxis",!1),dblClickLoadSave:(0,i.default)("dblClickLoadSave",!1),changeKeyOnDrag:(0,i.default)("changeKeyOnDrag",!0),vibrate:(0,i.default)("vibrate",15),vibrateJoystick:(0,i.default)("vibrateJoystick",5),vibrationFromGame:(0,i.default)("vibrationFromGame",!0),vgamepad:(0,i.default)("vgamepad",!1),bgImage:(0,i.default)("bgImage",""),bgOpacity:(0,i.default)("bgOpacity",.5),bgBlur:(0,i.default)("bgBlur",0),colorsBackground:(0,i.default)("background","rgba(0, 0, 0, 1)"),colorsColor:(0,i.default)("color","rgba(255, 255, 255, 0.53)"),colorsBorder:(0,i.default)("border","rgba(255, 255, 255, 0.53)"),colorsActive:(0,i.default)("active","rgba(255, 255, 255, 0.2)"),customCSS:(0,i.default)("customCSS",""),customJS:(0,i.default)("customJS",""),pluginMobile:(0,i.default)("pluginMobile",!1),driveSensitivity:(0,i.default)("driveSensitivity",2),drivePrecision:(0,i.default)("drivePrecision",1)};window.options=o,e.default=o},970:function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e._socketConnect=e.socket=e.socketConnect=e.commands=void 0;const i=s(n(437)),o=s(n(45)),a=n(294),r=document.querySelector(".ping");let c,u=!1,l=Date.now();function d(){let t;try{t=new WebSocket("ws://"+i.default.ip)}catch(t){return i.default.debug&&console.error(t),void n()}function n(){document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected"),setTimeout((()=>e.socket=(0,e.socketConnect)()),3e3)}return t.addEventListener("open",(function(){document.body.classList.remove("connecting","disconnected"),document.body.classList.add("connected"),t.send("PASSWORD "+(i.default.password||""))})),t.addEventListener("close",n),t.addEventListener("message",(function(t){const[n,...s]=t.data.split(" "),i=e.commands[n];"function"==typeof i&&i(s.join(" "))})),document.body.classList.remove("connected","disconnected"),document.body.classList.add("connecting"),t}e.commands={INFO:t=>{(0,a.toast)(t)},AUTH_FAILED:()=>{if(u)return;document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected");const t=prompt("O computador requer uma senha para se conectar ao MobyStk");null!==t&&(localStorage.setItem("joystick.password",t),u=!0,(0,o.default)(),window.location.reload())},pong:t=>{Number(t)===c&&(r&&(r.innerText=String(Date.now()-l)+"ms"),c=void 0)}},window.socketConnect=d,e.socketConnect=()=>window.socketConnect(),e.socket=(0,e.socketConnect)(),e._socketConnect=d,window.socket=e.socket,setInterval((function(){c&&r&&(r.innerText="+999ms"),c=Math.floor(1e6*Math.random()),l=Date.now(),null===e.socket||void 0===e.socket||e.socket.send(`ping ${c}`)}),1e3)},257:function(t,e,n){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ls=void 0;const i=s(n(860));function o(t,n){const s=(0,e.ls)(t);return null===s?n:s}e.ls=i.default.namespace("joystick"),e.default=o,window.ls=e.ls,window.getOpt=o},45:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=document.querySelector(".loadingScreen");function s(){n.classList.add("visible")}e.default=s,window.loading=s},294:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toast=e.toastObj=void 0;class n{constructor(t){this.element=t,this.content=t.querySelector(".toast-content"),this.toasts=[],this.showing=!1}show(t,e=2e3,n=!1){return this.toasts.push({message:t,time:e,html:n}),this.showing||this.start(),this}start(){if(this.element.classList.remove("show"),!this.toasts.length)return this.showing=!1;this.showing?setTimeout(this.run.bind(this),1e3):this.run(),this.showing=!0}run(){this.element.classList.add("show");const t=this.toasts.shift();this.content[t.html?"innerHTML":"innerText"]=t.message,setTimeout(this.start.bind(this),t.time||2e3)}}e.default=n;const s=document.createElement("div");s.classList.add("toast"),s.innerHTML='<div class="toast-content"></div>',document.body.appendChild(s);const i=document.createElement("style");i.innerHTML="\n@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap');\n\n.toast {\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\tbackground-color: rgba(85, 85, 85, 0.9);\n\tborder-radius: 22px;\n\tbottom: 48px; \n\t-webkit-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tcolor: #FFFFFF;\n\tdisplay: -webkit-inline-box;\n\tdisplay: -ms-inline-flexbox;\n\tdisplay: inline-flex;\n\tfont-family: 'Roboto Condensed', Roboto, Arial, sans-serif;\n\tfont-size: 15.8px;\n\tleft: 50%;\n\tline-height: 17.6px;\n\tmargin: 16px;\n\tmax-width: 320px;\n\tmin-height: 44px;\n\topacity: 0;\n\tpadding: 13.8px 25px;\n\tpointer-events: none;\n\tposition: fixed;\n\ttext-align: left;\n\ttext-shadow: black 0 0 2px;\n\t-webkit-transform: translateX(calc(-50% - 16px));\n\t-ms-transform: translateX(calc(-50% - 16px));\n\ttransform: translateX(calc(-50% - 16px));\n\t-webkit-transition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\t-o-transition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\ttransition: opacity 500ms cubic-bezier(0.5, 1, 0.89, 1);\n\twidth: -webkit-fit-content;\n\twidth: -moz-fit-content;\n\twidth: fit-content;\n\tz-index: 99999999999;\n}\n\n.toast.show {\n\topacity: 1;\n\t-webkit-transition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n\t-o-transition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n\ttransition: opacity 500ms cubic-bezier(0.11, 0, 0.5, 0);\n}\n\n/*.toast .toast-content {\n\tletter-spacing: -0.03px;\n\tline-height: 17.6px;\n\t-webkit-transform: scaleY(1.11);\n\t-ms-transform: scaleY(1.11);\n\ttransform: scaleY(1.11);\n}*/\n",document.body.appendChild(i),e.toastObj=new n(s),e.toast=(t,n=2e3,s=!1)=>e.toastObj.show(t,n,s),window.toast=e.toast}},e={};!function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,n),o.exports}(606)})();
//# sourceMappingURL=setup.js.map