(()=>{var t={860:function(t){!function(e,n){var r={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},stringify:function(t,e){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t,e||r.replace)},parse:function(t,e){try{return JSON.parse(t,e||r.revive)}catch(e){return t}},fn:function(t,e){for(var n in r.storeAPI[t]=e,r.apis)r.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var i=r.inherit(r.storeAPI,(function(t,e,n){return 0===arguments.length?i.getAll():"function"==typeof e?i.transact(t,e,n):void 0!==e?i.set(t,e,n):"string"==typeof t||"number"==typeof t?i.get(t):"function"==typeof t?i.each(t):t?i.setAll(t,e):i.clear()}));i._id=t;try{var s="__store2_test";e.setItem(s,"ok"),i._area=e,e.removeItem(s)}catch(t){i._area=r.storage("fake")}return i._ns=n||"",r.areas[t]||(r.areas[t]=i._area),r.apis[i._ns+i._id]||(r.apis[i._ns+i._id]=i),i},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=r.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e,n){if(n=n||this._delim||r.nsdelim,!t)return this._ns?this._ns.substring(0,this._ns.length-n.length):"";var i=t,s=this[i];if(!(s&&s.namespace||((s=r.Store(this._id,this._area,this._ns+i+n))._delim=n,this[i]||(this[i]=s),e)))for(var a in r.areas)s.area(a,r.areas[a]);return s},isFake:function(t){return t?(this._real=this._area,this._area=r.storage("fake")):!1===t&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,i=r.length(this._area);n<i;n++){var s=this._out(r.key(this._area,n));if(void 0!==s&&!1===t.call(this,s,this.get(s),e))break;i>r.length(this._area)&&(i--,n--)}return e||this},keys:function(t){return this.each((function(t,e,n){n.push(t)}),t||[])},get:function(t,e){var n,i=r.get(this._area,this._in(t));return"function"==typeof e&&(n=e,e=null),null!==i?r.parse(i,n):null!=e?e:i},getAll:function(t){return this.each((function(t,e,n){n[t]=e}),t||{})},transact:function(t,e,n){var r=this.get(t,n),i=e(r);return this.set(t,void 0===i?r:i),this},set:function(t,e,n){var i,s=this.get(t);return null!=s&&!1===n?e:("function"==typeof n&&(i=n,n=void 0),r.set(this._area,this._in(t),r.stringify(e,i),n)||s)},setAll:function(t,e){var n,r;for(var i in t)r=t[i],this.set(i,r,e)!==r&&(n=!0);return n},add:function(t,e,n){var i=this.get(t);if(i instanceof Array)e=i.concat(e);else if(null!==i){var s=typeof i;if(s===typeof e&&"object"===s){for(var a in e)i[a]=e[a];e=i}else e=i+e}return r.set(this._area,this._in(t),r.stringify(e,n)),e},remove:function(t,e){var n=this.get(t,e);return r.remove(this._area,this._in(t)),n},clear:function(){return this._ns?this.each((function(t){r.remove(this._area,this._in(t))}),1):r.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in r.areas)r.areas.hasOwnProperty(e)&&(this._area=r.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=r.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return r.inherit(r.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},i=r.Store("local",function(){try{return localStorage}catch(t){}}());i.local=i,i._=r,i.area("session",function(){try{return sessionStorage}catch(t){}}()),i.area("page",r.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return i})):t.exports?t.exports=i:(e.store&&(r.conflict=e.store),e.store=i)}(this,this&&this.define)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t={joyLUp:["W","T","058","195"],joyLLeft:["A","F","063","196"],joyLDown:["S","G","096","197"],joyLRight:["D","H","097","198"],joyRUp:["5","9","098","199"],joyRLeft:["6","0","099","200"],joyRDown:["7","[","100","201"],joyRRight:["8","]","101","202"],padUp:["UP","Z","102","203","XUSB_GAMEPAD_DPAD_UP"],padLeft:["LEFT","X","103","204","XUSB_GAMEPAD_DPAD_LEFT"],padDown:["DOWN","C","104","205","XUSB_GAMEPAD_DPAD_DOWN"],padRight:["RIGHT","V","105","206","XUSB_GAMEPAD_DPAD_RIGHT"],actUp:["I","B","106","207","XUSB_GAMEPAD_Y"],actLeft:["J","N","107","208","XUSB_GAMEPAD_X"],actDown:["K","M","108","209","XUSB_GAMEPAD_A"],actRight:["L","Ç","109","210","XUSB_GAMEPAD_B"],left1:["Q","Y","110","211","XUSB_GAMEPAD_LEFT_SHOULDER"],left2:["1","3","111","212","XUSB_GAMEPAD_LEFT_TRIGGER"],left3:[";","´","187","213","XUSB_GAMEPAD_LEFT_THUMB"],right1:["E","U","188","214","XUSB_GAMEPAD_RIGHT_SHOULDER"],right2:["2","4","189","215","XUSB_GAMEPAD_RIGHT_TRIGGER"],right3:[".","~","190","216","XUSB_GAMEPAD_RIGHT_THUMB"],select:["ENTER","P","193","217","XUSB_GAMEPAD_BACK"],start:["SPACE","O","231","218","XUSB_GAMEPAD_START"],pause:["ESC","ESC","ESC","ESC","ESC"],load:["F1","F1","F1","F1","F1"],save:["[","[","[","[","["],fast:["TAB","TAB","TAB","TAB","TAB"],volUp:["MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP"],volDown:["MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN"]},e={snes:{pause:100,sequence:["padUp","padLeft","padDown","padRight","actDown","actRight","actLeft","actUp","start","select","left1","right1"]},snesSave:{pause:100,sequence:["["]},snesLoad:{pause:100,sequence:["F1"]},ps2:{pause:1e3,sequence:["select","left3","right3","start","padUp","padRight","padDown","padLeft","left2","right2","left1","right1","actUp","actRight","actDown","actLeft","joyLUp","joyLRight","joyLDown","joyLLeft","joyRUp","joyRRight","joyRDown","joyRLeft"]},psp:{pause:150,sequence:["UP","LEFT","RIGHT","SPACE","padUp","DOWN","SPACE","padDown","DOWN","SPACE","padLeft","DOWN","SPACE","padRight","DOWN","SPACE","actRight","DOWN","SPACE","actDown","DOWN","SPACE","actLeft","DOWN","SPACE","actUp","DOWN","SPACE","start","DOWN","SPACE","select","DOWN","SPACE","left1","DOWN","SPACE","right1","DOWN","SPACE","joyLUp","DOWN","SPACE","joyLDown","DOWN","SPACE","joyLLeft","DOWN","SPACE","joyLRight","DOWN","DOWN","DOWN","DOWN","DOWN","DOWN","DOWN","SPACE","pause","DOWN","DOWN","DOWN","DOWN","SPACE","save","DOWN","SPACE","load","ESC"]}};var r=n(860),i=n.n(r)().namespace("joystick");function s(t,e){var n=i(t);return null===n?e:n}window.ls=i,window.getOpt=s;var a=function(t,e,n,r){return new(n||(n=Promise))((function(i,s){function a(t){try{c(r.next(t))}catch(t){s(t)}}function o(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}c((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};window.addEventListener("load",(function(){document.body.classList.remove("preload")})),document.querySelectorAll("a").forEach((function(t){return t.addEventListener("click",D)}));var c=document.querySelector(".progress"),u=c.querySelector(".bar"),l=c.querySelector(".cancel"),f=document.querySelector(".ip"),h=document.querySelector(".connectStatus"),d=s("code",window.location.hostname+":5000");f.innerText=d;var p=function t(){var e=new WebSocket("ws://"+d);return h.classList.remove("connected","disconnected"),h.classList.add("connecting"),e.addEventListener("open",(function(t){h.classList.remove("connecting","disconnected"),h.classList.add("connected")})),e.addEventListener("close",(function(n){h.classList.remove("connecting","connected"),h.classList.add("disconnected"),setTimeout((function(){return p=t()}),3e3),e.send("PASSWORD "+(localStorage.getItem("joystick.password")||""))})),e.addEventListener("message",(function(t){var e=t.data.split(" "),n=e[0];if(e.slice(1),"AUTH_FAILED"===n.toUpperCase()){h.classList.remove("connecting","connected"),h.classList.add("disconnected");var r=prompt("O computador requer uma senha para se conectar ao MobyStk");if(null===r)return;localStorage.setItem("joystick.password",r),D(),window.location.reload()}})),e}();function _(t,e,n,r){if(t>0){switch(c.classList.remove("hidden"),t){case 1:c.classList.remove("complete","stopped");break;case 2:c.classList.add("complete");break;case 3:c.classList.add("stopped")}if(t>=2&&(u.style.transition="",setTimeout((function(){return _(0)}),2e3)),e&&n){u.style.transition=r+"ms linear";var i=1/(n-1)*Number(e)*100;u.style.width=i+"%"}}else setTimeout((function(){c.classList.add("hidden"),u.style.transition="",setTimeout((function(){c.classList.remove("complete","stopped"),u.style.width="0",v(!1)}),150)}),2e3)}function v(t){void 0===t&&(t=!1),document.querySelectorAll(".app .actions button").forEach((function(e){e.disabled=t}))}function A(t){return a(this,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e){setTimeout(e,t)}))]}))}))}document.querySelectorAll(".app .actions .start").forEach((function(n){var r=n.dataset,i=r.app,s=r.player;n.addEventListener("click",(function(){return function(n,r){return a(this,void 0,void 0,(function(){var i,s,a,c,u,f,h,d;return o(this,(function(o){switch(o.label){case 0:for(f in i=!1,l.addEventListener("click",(function(){return i=!0})),a=(s=e[n]).sequence,c=s.pause,_(1),v(!0),u=[],a)u.push(f);h=0,o.label=1;case 1:return h<u.length?(d=u[h],1!==p.readyState||i?[2,_(3)]:(function(e,n){var r;e=(null===(r=t[e])||void 0===r?void 0:r[Number(n)-1])||e,console.log(e),1===p.readyState&&(e.startsWith("*")?p.send(e.substr(1)):p.send("T "+e))}(a[d],r),_(1,d,a.length,c),[4,A(c)])):[3,4];case 2:o.sent(),o.label=3;case 3:return h++,[3,1];case 4:return _(2),[2]}}))}))}(i,s)}))}));var y=document.querySelector(".loadingScreen");function D(){y.classList.add("visible")}})()})();
//# sourceMappingURL=setup.js.map