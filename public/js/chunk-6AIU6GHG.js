import{e as r,f as a,g as o}from"./chunk-BOG2Q27Q.js";var _={joyLUp:["W","T","058","195"],joyLLeft:["A","F","063","196"],joyLDown:["S","G","096","197"],joyLRight:["D","H","097","198"],joyRUp:["5","9","098","199"],joyRLeft:["6","0","099","200"],joyRDown:["7","[","100","201"],joyRRight:["8","]","101","202"],padUp:["UP","Z","102","203","XUSB_GAMEPAD_DPAD_UP"],padLeft:["LEFT","X","103","204","XUSB_GAMEPAD_DPAD_LEFT"],padDown:["DOWN","C","104","205","XUSB_GAMEPAD_DPAD_DOWN"],padRight:["RIGHT","V","105","206","XUSB_GAMEPAD_DPAD_RIGHT"],actUp:["I","B","106","207","XUSB_GAMEPAD_Y"],actLeft:["J","N","107","208","XUSB_GAMEPAD_X"],actDown:["K","M","108","209","XUSB_GAMEPAD_A"],actRight:["L","\xC7","109","210","XUSB_GAMEPAD_B"],left1:["Q","Y","110","211","XUSB_GAMEPAD_LEFT_SHOULDER"],left2:["1","3","111","212","XUSB_GAMEPAD_LEFT_TRIGGER"],left3:[";","\xB4","187","213","XUSB_GAMEPAD_LEFT_THUMB"],right1:["E","U","188","214","XUSB_GAMEPAD_RIGHT_SHOULDER"],right2:["2","4","189","215","XUSB_GAMEPAD_RIGHT_TRIGGER"],right3:[".","~","190","216","XUSB_GAMEPAD_RIGHT_THUMB"],select:["ENTER","P","193","217","XUSB_GAMEPAD_BACK"],start:["SPACE","O","231","218","XUSB_GAMEPAD_START"],pause:["ESC","ESC","ESC","ESC","ESC"],load:["F1","F1","F1","F1","F1"],save:["[","[","[","[","["],fast:["TAB","TAB","TAB","TAB","TAB"],volUp:["MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP"],volDown:["MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN"]};window.keymappings=_;var l=_;var s=document.querySelector(".ping"),E=!1,n,A=Date.now(),g={INFO:e=>{a(e)},AUTH_FAILED:()=>{if(E)return;document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected");let e=prompt("O computador requer uma senha para se conectar ao MobyStk");e!==null&&(localStorage.setItem("joystick.password",e),E=!0,r(),window.location.reload())},pong:e=>{Number(e)===n&&(s&&(s.innerText=String(Date.now()-A)+"ms"),n=void 0)}};window.socketConnect=u;var D=()=>window.socketConnect(),t=D();function u(){let e;try{e=new WebSocket("ws://"+o.ip)}catch(c){o.debug&&console.error(c),i();return}e.addEventListener("open",p),e.addEventListener("close",i),e.addEventListener("message",M),document.body.classList.remove("connected","disconnected"),document.body.classList.add("connecting");function p(){document.body.classList.remove("connecting","disconnected"),document.body.classList.add("connected"),e.send("PASSWORD "+(o.password||""))}function i(){document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected"),setTimeout(()=>t=D(),3e3)}function M(c){let[m,...U]=c.data.split(" "),d=g[m];typeof d=="function"&&d(U.join(" "))}return e}window.socket=t;function L(){!t||t.readyState!==t.OPEN||(n&&s&&(s.innerText="+999ms"),n=Math.floor(Math.random()*1e6),A=Date.now(),t?.send(`ping ${n}`))}setInterval(L,1e3);export{l as a,g as b,t as c};
