import{d as e,e as d,f as l}from"./chunk-HRGUCOSM.js";var g={joyLUp:["W","T","058","195"],joyLLeft:["A","F","063","196"],joyLDown:["S","G","096","197"],joyLRight:["D","H","097","198"],joyRUp:["5","9","098","199"],joyRLeft:["6","0","099","200"],joyRDown:["7","[","100","201"],joyRRight:["8","]","101","202"],padUp:["UP","Z","102","203","XUSB_GAMEPAD_DPAD_UP"],padLeft:["LEFT","X","103","204","XUSB_GAMEPAD_DPAD_LEFT"],padDown:["DOWN","C","104","205","XUSB_GAMEPAD_DPAD_DOWN"],padRight:["RIGHT","V","105","206","XUSB_GAMEPAD_DPAD_RIGHT"],actUp:["I","B","106","207","XUSB_GAMEPAD_Y"],actLeft:["J","N","107","208","XUSB_GAMEPAD_X"],actDown:["K","M","108","209","XUSB_GAMEPAD_A"],actRight:["L","\xC7","109","210","XUSB_GAMEPAD_B"],left1:["Q","Y","110","211","XUSB_GAMEPAD_LEFT_SHOULDER"],left2:["1","3","111","212","XUSB_GAMEPAD_LEFT_TRIGGER"],left3:[";","\xB4","187","213","XUSB_GAMEPAD_LEFT_THUMB"],right1:["E","U","188","214","XUSB_GAMEPAD_RIGHT_SHOULDER"],right2:["2","4","189","215","XUSB_GAMEPAD_RIGHT_TRIGGER"],right3:[".","~","190","216","XUSB_GAMEPAD_RIGHT_THUMB"],select:["ENTER","P","193","217","XUSB_GAMEPAD_BACK"],start:["SPACE","O","231","218","XUSB_GAMEPAD_START"],pause:["ESC","ESC","ESC","ESC","ESC"],load:["F1","F1","F1","F1","F1"],save:["[","[","[","[","["],fast:["TAB","TAB","TAB","TAB","TAB"],volUp:["MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP","MEDIA_VOLUME_UP"],volDown:["MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN","MEDIA_VOLUME_DOWN"]};window.keymappings=g;var f=g;var p={ip:e("code","localhost:5000"),layout:e("layout"),player:e("player",1)-1,password:e("password"),debug:e("debug",!1),locked:e("locked",[]),hidden:e("hidden",[]),invertL:e("invertL",!1),invertR:e("invertR",!1),disJoyXAxis:e("disJoyXAxis",!1),disJoyYAxis:e("disJoyYAxis",!1),dblClickLoadSave:e("dblClickLoadSave",!1),changeKeyOnDrag:e("changeKeyOnDrag",!0),vibrate:e("vibrate",15),vibrateJoystick:e("vibrateJoystick",5),vibrationFromGame:e("vibrationFromGame",!0),vgamepad:e("vgamepad",!1),bgImage:e("bgImage",""),bgOpacity:e("bgOpacity",.5),bgBlur:e("bgBlur",0),colorsBackground:e("background","rgba(0, 0, 0, 1)"),colorsColor:e("color","rgba(255, 255, 255, 0.53)"),colorsBorder:e("border","rgba(255, 255, 255, 0.53)"),colorsActive:e("active","rgba(255, 255, 255, 0.2)"),customCSS:e("customCSS",""),customJS:e("customJS",""),pluginMobile:e("pluginMobile",!1),driveSensitivity:e("driveSensitivity",2),drivePrecision:e("drivePrecision",1)};window.options=p;var n=p;var i=document.querySelector(".ping"),m=!1,t,u=Date.now(),y={INFO:o=>{l(o)},AUTH_FAILED:()=>{if(m)return;document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected");let o=prompt("O computador requer uma senha para se conectar ao MobyStk");o!==null&&(localStorage.setItem("joystick.password",o),m=!0,d(),window.location.reload())},pong:o=>{Number(o)===t&&(i&&(i.innerText=String(Date.now()-u)+"ms"),t=void 0)}};window.socketConnect=S;var A=()=>window.socketConnect(),r=A();function S(){let o;try{o=new WebSocket("ws://"+n.ip)}catch(s){n.debug&&console.error(s),a();return}o.addEventListener("open",b),o.addEventListener("close",a),o.addEventListener("message",_),document.body.classList.remove("connected","disconnected"),document.body.classList.add("connecting");function b(){document.body.classList.remove("connecting","disconnected"),document.body.classList.add("connected"),o.send("PASSWORD "+(n.password||""))}function a(){document.body.classList.remove("connecting","connected"),document.body.classList.add("disconnected"),setTimeout(()=>r=A(),3e3)}function _(s){let[E,...D]=s.data.split(" "),c=y[E];typeof c=="function"&&c(D.join(" "))}return o}window.socket=r;function M(){t&&i&&(i.innerText="+999ms"),t=Math.floor(Math.random()*1e6),u=Date.now(),r?.send(`ping ${t}`)}setInterval(M,1e3);export{f as a,n as b,y as c,r as d};
